sha,author_login,date,message,additions,deletions,total_changes
d86855a64789ccacd2d5a89e2815b2ee869562ad,connor4312,2025-07-16 23:10:47+00:00,"tools: update tools of a chat request when they change (#256321)

Makes the `userSelectedTools` passed into the chat agent service
observable such that the tools of the ongoing request update as new
tools come in. The benefit of this versus other (previous) approaches
is that it reflects the enablement/disablement state of the picker
(which is likely to get additional controls in the future) and works
without special tagging.

@roblourens / @DonJayamanne I think with this we can get rid of

https://github.com/microsoft/vscode-copilot-chat/blob/0d6f5516d2fef455340228fd7bc34a4f501725d3/src/extension/tools/vscode-node/toolsService.ts#L118-L122

which was added for Jupyter iirc.

Closes #254684",94,30,124
c8aac76f9f51c080c64478b756870eae4d3ad308,justschen,2025-07-16 22:18:42+00:00,"remove checkpoint from first request, edit rendering fix (#256340)",12,1,13
d21a5769ddc27bed795be10c629dbc554bbaba31,mjbvz,2025-07-16 20:35:44+00:00,"Merge pull request #256256 from andy0130tw/andy0130tw/support-locale-argument-in-tsserver-web

Support the locale argument of TypeScript language server on the web version (#256252)",11,1,12
71d320f7f250d79b4e3e0b5385be0e2ff25f7435,hediet,2025-07-16 19:48:21+00:00,Also send editTelemetry.reportEditArc after 60 seconds. (#256319),1,1,2
951c66ba5619ab15ac654498a56e963b6c78d586,hediet,2025-07-16 19:26:17+00:00,Updates distro (#256313),1,1,2
21f01347a5c1833154ade4d97375754967a2e5bd,hediet,2025-07-16 19:23:22+00:00,Fixes type (#256314),1,1,2
2bb5fd3baf936382d4ac7c877da3fc39a57e4eea,Tyriar,2025-07-16 19:16:26+00:00,"Merge pull request #256310 from microsoft/tyriar/build_broke

Fix public overridden prop",1,1,2
69c1d0823d1757c45310b5bfb394719ad9be700c,hediet,2025-07-16 19:14:15+00:00,EditReason -> EditSource (#256308),102,102,204
e6f1bbf1d4947f96e61c9fee6c6c6630a3b2d9a7,hediet,2025-07-16 19:13:40+00:00,edis -> replacements (#256309),14,14,28
72aaf2bc9f55a32e39592c81ea8c34fa6822cac5,nguyenchristy,2025-07-16 18:54:45+00:00,"Add worktree command (#255945)

* Basic functionality of adding worktree

* Code refactoring and clean up

* Remove accidentally added submodules

* Specify folder destination

* Remove default worktree path, always prompt for destination instead

* create worktree only displayed in repo's worktree subcommands

* Git - handle another error condition when detecting worktrees (#256278)

* Rework creating worktree flow

* Include worktree name placeholder

---------

Co-authored-by: Ladislau Szomoru <3372902+lszomoru@users.noreply.github.com>",102,3,105
89e21172867cd4b9e7ed0d3d56f542351e00cd12,Tyriar,2025-07-16 18:47:55+00:00,Fix public overridden prop,1,1,2
b9e82f6b6030a5c164132fa3bc2ccab71949c4cf,hediet,2025-07-16 18:39:02+00:00,Implements line based ARC tracking of Chat.applyEdits edits (#256303),514,336,850
844e739fbe8b952ec79631020564979d57c122a3,mjbvz,2025-07-16 18:32:07+00:00,"Merge pull request #256301 from mjbvz/alive-porcupine

Pick up TS 5.9-beta for built-in support",6,8,14
50ca83fad5ea13b7fc6a5bff700602d1d561aa91,aiday-mar,2025-07-16 18:30:22+00:00,"Render complex HTML in screen reader content (#249356)

* Fix advanced line wrap if decorations are present

Decorations may affect line wrapping. For example, they make make the
text bold, or increase or decrease font size. This wasnâ€™t originally
taken into account to calculate the the break offsets.

* Support dynamic line heights using decorations

* fixing compiler errors

* placing tests in block comment

* adding logs

* limiting amount of logging

* changikng the font size and the line height directly in the code

* wip

* wip

* removing monaco editor related code

* wip

* wip

* wip

* adding wip

* setting doc as internal

* pushing to text to the bottom

* adding support for font size

* placing at the end

* fixing tests

* adding likne height setting

* adding comments

* adding todo

* overriding the font size in sticky scroll

* making sticky scroll also use the editor lines heights

* updating sticky scroll on decoration change, investigating lines

* removing changes for font size, focusing on line height changes

* adding code

* adding css changes to position text at the bottom

* adding also the chnages for demo

* adding code

* making content widgets correctly position themselves

* adding css changes to sticky scroll

* adding more methods

* adding code

* polishing

* adding code

* polishing

* adding css to sticky scroll

* fixing bug

* remove testing code

* fixing tests

* removing extension surfacing

* removing part of doc string

* removing line height from renderLineInput

* directly getting the line heights from the view context, not the viewport data

* remove special line heights from the viewModel

* adding new events for line height changes

* adding back line height into renderLineInput

* wip

* polishing

* refactore viewmodelimpl

* updating the special line height listener on model change

* clearing when model is not defined

* take into account line height in ime

* fixing the offset error

* adding height

* making the decorations render full height

* take into account line height in cursor

* fixes the context menu not showing at the correct position

* centering the folding icon

* line height

* adding code in order to continue investigation

* Revert ""adding code in order to continue investigation""

This reverts commit 1a44ac3db5ad9f551f752563b089477bd9501f4e.

* updating the line heights on editing

* using view positions instead of model

* fixing compiler error

* surfacing through editor

* adding code

* adding code

* adding beginning of code

* adding code

* adding code

* adding code which commits and recaclulates the data

* allowing to insert or change a special line height

* polishing

* adding logs

* separating the logic of user insertion/deletion and decoration changes

* adding code for testing

* fixing runtime errors

* adding code

* adding elements before invalid index

* fixing indices

* adding code

* removing console logs

* adding code

* removing logs in file

* adding changes to sticky lines

* fixing line insertion

* updating correctly on insert and on delete

* adding code to send initial edit

* adding code

* fixing insertion

* adding edits

* adding content changes

* updating the indices

* polishing

* differentiating between case when actually lines are deleted and when not

* modified code for deletion to take into account new special maximum height

* fixing the indices

* adding code

* adding fix

* changing the insertion logic

* removing logs

* removing logs

* removing code that removes the decorations

* setting correct line height

* removing line height from RenderLineInput

* cleaning

* converting to string

* undoing css change, setting line height also on the folding icon

* set line height in the renderLine method

* polishing

* polishing

* changing deletion logic

* adding code to test

* removing testing code

* fixing candidate

* polishing

* adding font infos

* polishing

* adding remaining values of barefontinfo

* =choosing right line for rendering depending on if there is a special font on the given line

* rewriting font decoration logic

* setting different border for testing

* fixing scroll top

* set variable to make the font size never be larger than the line height

* adding code which sets the font size of the ghost text

* adding overflow hidden in order to fix the font size overfkiw

* updating widget height using the height of the rendered sticky lines

* aligning items in the center

* =fetching the correct font info

* computing the correct left position depending on the font siue within the div

* placing the text area also so the text aligns

* adding check so inline completions are always visible

* adding wip

* using same structure as line heights

* fixing errors

* polishing

* wip

* adding code for insert

* =refactoring

* investigating the line breaks

* save break data

* adding code to determine line breaks based on font info

* wip

* removing code because will use other approach

* adding logs

* adding back logic for font decorations on text model

* using the renderViewLine code for the line breaks

* wip

* adding monaco.ts changes

* fixing merge issues

* making line breaks work

* dom breaking now works

* adding code to reflect font info changes in the custom font manager

* using other rendering tactic

* adding code to rerender the line type

* adding code

* removing custom font manager

* using model line number instead in the constructLines method

* using model line number also for model whitespaces

* adding code in order to make the native edit context show also the same rendered line for the screen readers

* setting the correct range

* resetting the code for text area edit context and disabling custom fonts when text area is used

* cleaning the code a bit

* wip

* making the screen reader support use the font sizes from the rendered view line

* screen reader

* wip

* wip

* wip

* wip

* wip

* adding renderwhitespace from editor config

* wip

* remove the code for font

* adding code

* wip

* fetching the relevant font size in the text area code

* adding code from other pr

* wip

* writing screen reader content

* adding code

* using character mapping inthe dom line breaks computer

* wip

* removing accessibility service check

* =wip

* wip

* wip

* adding wip

* wip

* wip

* wip

* wip

* wip

* fixing bug

* adding logs

* wip

* adding code

* adding code

* wip

* wip

* adding code

* updating the editor options

* wip

* wip

* wip

* wip

* wip

* wip

* refactoring

* wip

* wip

* wip

* wip

* polish

* polish

* adding method for updating scroll top

* chaing option

* removing included value

* setting propperty

* Add new member to equality

* Avoid memory leaks

* Make sure `_accessibilityPageSize` is initialised

* Ensure _accessibilityPageSize gets initialized

* Simplify code

* Fix NPE

* Clamp lines to line count

* Do not turn on `renderRichScreenReaderContent` by default until we test it

* Add explicit reference to ISimpleModel in the IViewModel

---------

Co-authored-by: Remco Haszing <remcohaszing@gmail.com>
Co-authored-by: Alexandru Dima <alexdima@microsoft.com>",884,353,1237
cdc005d1cb3480735b1bba00d0cc01712e5643a0,mjbvz,2025-07-16 18:10:43+00:00,Fix a few expect error and bump web version,1,2,3
1fe400fcfc9774381aca4ba3715ffa752b893e56,aeschli,2025-07-16 18:09:35+00:00,configure tool sets from tools button opens a chat mode file (#256300),6,4,10
e624e6aee41a9fcc43dc3615adb4282e174c0bd0,mjbvz,2025-07-16 18:02:20+00:00,Pick up TS 5.9-beta for built-in support,5,6,11
a43ce7a6dbba0eb5f57e7b360578d159f6989d98,Copilot,2025-07-16 17:11:38+00:00,"mcp: forward log level changes to MCP servers

Fixes #256267

* Initial plan

* Implement MCP server log level forwarding

Co-authored-by: connor4312 <2230985+connor4312@users.noreply.github.com>

* Add tests for MCP server log level functionality

Co-authored-by: connor4312 <2230985+connor4312@users.noreply.github.com>

* Move log level forwarding to McpServerRequestHandler and clean up imports

Co-authored-by: connor4312 <2230985+connor4312@users.noreply.github.com>

* properly

---------

Co-authored-by: copilot-swe-agent[bot] <198982749+Copilot@users.noreply.github.com>
Co-authored-by: connor4312 <2230985+connor4312@users.noreply.github.com>
Co-authored-by: Connor Peet <connor@peet.io>",48,0,48
2ebd246b9e28f4bb83b08b03c79e32caadef0b91,roblourens,2025-07-16 17:03:40+00:00,Fix non-panel chat surfaces (#256290),1,6,7
18cf80675536f2729969f398bdbdc65e81c6ac63,gjsjohnmurray,2025-07-16 16:55:11+00:00,"Add `SecretStorage.keys()` as proposed API (#252804)

* Add `SecretStorage.keys()` as proposed API

* Make keys() optional; throw if used when unimplemented

* Handle another case where keys() may be unimplemented",82,0,82
a62ed2742168b7871ad639135f6a0d3913f45bac,TylerLeonhardt,2025-07-16 16:48:51+00:00,Fix redirect URIs in OAuth dynamic registration and tests (#256288),8,8,16
0cfca3786c4f366cda8735860e6a1c4d0e2647d7,lszomoru,2025-07-16 16:15:33+00:00,Git - handle another error condition when detecting worktrees (#256278),1,1,2
c0ceb8ca95453c5e3505b22416065e152024d2cf,lszomoru,2025-07-16 15:10:22+00:00,Git - fix regression related to worktree detection (#256265),14,2,16
b9ca682b284e218d01f46410ae55afd3089293b8,Tyriar,2025-07-16 14:34:53+00:00,"Merge pull request #255804 from microsoft/tyriar/252650

Move run in terminal tool to core",3014,0,3014
6d8f0ed1c5ae43c7eb52aed4a936f199644a307a,alexr00,2025-07-16 14:18:29+00:00,"Disable flaky task tests (#256249)

See https://github.com/microsoft/vscode/issues/227367",3,3,6
8c938d137a60bb07061bc400c460e141a29f36f7,alexr00,2025-07-16 14:17:49+00:00,"Disable flaky workspace test (#256250)

See https://github.com/microsoft/vscode/issues/253863",1,1,2
2092c7265246bc43f5efbb4e3b2dbf4ba119244e,andy0130tw,2025-07-16 13:32:34+00:00,Let typescript-language-feature support locale argument in web environment,11,1,12
c4819eda495893aa7be7e10315c5cdbbd4dde5cf,Tyriar,2025-07-16 13:24:45+00:00,Fix terminal tool model descriptions,29,3,32
af81c2b2fb44e2263add215697460d199de2f464,Tyriar,2025-07-16 13:26:44+00:00,Merge branch 'main' into tyriar/252650,2775,1312,4087
0763d4d640ef98d10bd71a6e8c594bfe96b66e38,Tyriar,2025-07-16 13:17:58+00:00,Add enablement setting,22,7,29
c471b1e30169cecf45cd5b72cbbc2f00e4d75d39,alexdima,2025-07-16 13:00:41+00:00,Update classifier rules (#256241),4,4,8
3463b4cab76ab4329b94820d48bc2f0b08b8c588,Tyriar,2025-07-16 12:53:59+00:00,Determine backend OS in tests,237,219,456
6860bb1e6bc334e3609d034c50813c5ece4234ab,joaomoreno,2025-07-16 12:46:48+00:00,"Revert ""Add chatPanelNeverUsed context key  for new chat welcome view"" (#256239)

Revert ""Add chatPanelNeverUsed context key  for new chat welcome view (#256155)""

This reverts commit 816021c0a52181b84ae4e27d1b0cf28434d15314.",12,27,39
78be1c8daf28a48de4f538b91f9fc486c8e66700,Tyriar,2025-07-16 12:46:44+00:00,Only test case-insensitivity on Windows,2,1,3
a15f9379c43d02bf51dd75526a3bfcf8b3562a90,Tyriar,2025-07-16 12:44:21+00:00,Add restoring terminal association after reload,99,1,100
22de6dd8eeab3df4e9bc1e9bb96cd84cfad43be7,Tyriar,2025-07-16 12:07:09+00:00,Avoid URI parsing in tests as it makes OS-specific assertions,7,8,15
13291d45e5c06151ef8418564c254a79c42c6885,Tyriar,2025-07-16 11:54:31+00:00,Add tests for reading cwd off instance,115,0,115
dd159c45c4b28c5b7b8d284409e1531def582283,Tyriar,2025-07-16 11:53:50+00:00,Simplify wait for shell integration impl,12,43,55
67b27dba35f0f3f7f71df1c692040ea41246072e,hediet,2025-07-16 11:43:02+00:00,Implements data channels (#256226),302,4,306
653a51fb442820b80a1c43959df239373fe4f116,Tyriar,2025-07-16 11:29:20+00:00,Clean up run in terminal tool,23,67,90
4ac51cd2bb8126fc60af32ab5559d95a480f9eba,sandy081,2025-07-16 10:50:59+00:00,fix #255800 (#256223),1,1,2
c3a8ba100b24dd607b90d606a219c2dd48e35742,sandy081,2025-07-16 10:39:11+00:00,fix #253985 (#256217),366,25,391
31fe9de6a9a4f38f418f70bf4c54d1b97e98f544,sandy081,2025-07-16 10:38:43+00:00,fix wording (#256219),1,1,2
1c2d37b8134d890ad6bd219db7f8ed2f8537a6af,sandy081,2025-07-16 10:38:11+00:00,use ref (#256222),4,5,9
42cdb03dd473941774f0190e7a8d19c1c8086b29,sandy081,2025-07-16 09:58:56+00:00,fix mcp server views (#256209),19,15,34
da1ef718b4f06ca9d8a9a12a232fc95fa29dbd2c,alexdima,2025-07-16 08:37:53+00:00,Only trim whitespace on delete when the current line has content (#256205),2,1,3
e4f0a6211b83f9bb0a3f0b92ab5d044cecc6d541,lszomoru,2025-07-16 08:03:49+00:00,SCM - ðŸ’„ clean-up extHostSCM handles (#256200),2,5,7
dc099bf36b6584e6ebd3b33b0d0ea00c4f8ba467,mjbvz,2025-07-16 05:42:48+00:00,"Merge pull request #256178 from mjbvz/concerned-grouse

Simplify api for rendered markdown",48,57,105
e65561f28ee9092f3d192a1873df8bcd563da22e,mjbvz,2025-07-16 03:39:19+00:00,"Simplify api for rendered markdown

- Replace `inline/className` with optional target node. This lets callers avoid creating extra hierarchy and have more control over where the md is rendered
- Move marked options into main options bag",48,57,105
f86dac57da43f757d16139a2c0ca142e32b6a4c6,mjbvz,2025-07-16 02:13:02+00:00,"Merge pull request #256159 from mjbvz/eastern-lobster

Restore chat content markdown dom structure",8,10,18
a8c6c30ca37498e96014f68a3b86c38235495578,justschen,2025-07-16 01:38:40+00:00,"fixes checkpoints hover opacity, better language (#256147)

* various checkpoint feedback fixes :)

* some cleanup",34,10,44
78c86ac77c77bce23798ddaf46ea625486422c10,mjbvz,2025-07-16 01:17:11+00:00,"Restore chat content markdown dom structure

Removes extra layer that caused styling issues",8,10,18
816021c0a52181b84ae4e27d1b0cf28434d15314,bhavyaus,2025-07-16 00:22:32+00:00,Add chatPanelNeverUsed context key  for new chat welcome view (#256155),27,12,39
1fb55352d523b2dc26bc66feff2695cdce12c30a,mjbvz,2025-07-16 00:18:29+00:00,"Merge pull request #256154 from mjbvz/chief-bear

Fix click handlers in chat markdown",2,3,5
2748c93b06fc689666bef742c19eb48a8028a40f,mjbvz,2025-07-16 00:06:08+00:00,"Fix click handlers in chat markdown

Fixes #256001",2,3,5
b9d5ee09a444cfe27d227b64dfdb39cd07a745f3,joelverhagen,2025-07-15 23:42:04+00:00,"mcp: add support for NuGet as a package source

Start on NuGet support",25,2,27
ee69a6dca2845619e01d04621dc2c96fb937dc5f,mjbvz,2025-07-15 22:53:42+00:00,"Merge pull request #256143 from mjbvz/marvellous-swordfish

Tighten up dom sanitizing rules",169,82,251
9bb90bd6624b6a9750d139fec6224ac9bec26b8f,alexdima,2025-07-15 22:41:09+00:00,"trim whitespace when deleting new line character (#210870)

* trim whitespace after new line character deletion

* trimming whitespace after deleting newline character + tests --  feature request #134898

* Implement deleting right at end of line includes leading whitespace

---------

Co-authored-by: Alexandru Dima <alexdima@microsoft.com>",117,76,193
62340ddf92f5903a04ce590db61ccc310738c77c,mjbvz,2025-07-15 22:38:11+00:00,"Tighten up dom sanitizing rules

This change adds restrictions to our dom sanitizer rules. The goal is to make the core set of rules more restrictive and require callers to opt into more permissive tags

Main changes:

- Remove input tags being allowed by default
- Remove some markdown specific / custom attributes from the default list
- Remove id, class, and style attrs from default layer
- Split up link/media allowed commands
- Restructure api to make it more clear how you can override or augment tags/attrs",169,82,251
d8af289890b37da46854738a65743083abf4d4b5,roblourens,2025-07-15 22:37:20+00:00,"Support chat participants in agent mode (#256113)

* Allow participants in any mode
Fix #255921

* Get rid of unneeded context keys

* Preserve modes for default agents

* Fix tests

* Fix test",19,19,38
