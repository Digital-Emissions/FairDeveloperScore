repo,sha,author,date,message,additions,deletions,total_changes
Genymobile/scrcpy,f01231dff8294fe2c99045a4f9a14b233a71bb86,Romain Vimont,2025-06-20T18:14:42Z,Update links to 3.3.1,21,21,42
Genymobile/scrcpy,5b18ce0d2e91fd9875b3fe3b10a2c5dcb4399cd1,Romain Vimont,2025-06-20T17:42:40Z,Bump version to 3.3.1,5,5,10
Genymobile/scrcpy,4841fdd1eff58f313a62c539f31453eac3e21b62,Romain Vimont,2025-06-18T16:29:04Z,Add horizontal scrolling support for HID mouse  PR #6172 <https://github.com/Genymobile/scrcpy/pull/6172>,23,6,29
Genymobile/scrcpy,fc75319bb291121116419c784a5fa507fd820eca,Romain Vimont,2025-06-18T16:26:13Z,"Fix HID mouse support with SDL precise scrolling  Over HID, only integral scroll values can be sent. When SDL precise scrolling is active, scroll events may include fractional values (e.g., 0.05), which are truncated to 0 in the HID event.  To fix the problem, use the integral scroll value reported by SDL, which internally accumulates fractional deltas.  Fixes #6156 <https://github.com/Genymobile/scrcpy/issues/6156> PR #6172 <https://github.com/Genymobile/scrcpy/pull/6172>",26,7,33
Genymobile/scrcpy,7c8bdccbdc24b616c8d4ada861c424b3686912ea,Romain Vimont,2025-06-20T07:06:10Z,"Extend value range for SDK mouse scrolling  SDL precise scrolling can sometimes produce values greater than 1 or less than -1.  On the wire, the value is encoded as a 16-bit fixed-point number.  Previously, the range was interpreted as [-1, 1], using 1 bit for the integral part (the sign) and 15 bits for the fractional part.  To support larger values, interpret the range as [-16, 16] instead, using 5 bits for the integral part and 11 bits for the fractional part (which is more than enough).  PR #6172 <https://github.com/Genymobile/scrcpy/pull/6172>",19,14,33
Genymobile/scrcpy,9787fe5d261df8255e49b65f37e2d89bf1a129fa,Romain Vimont,2025-06-19T18:50:26Z,"Preserve original scroll values in mouse event  Clamp scroll values to [-1, 1] only for the SDK mouse.  HID mouse implementations perform their own clamping to [-127, 127] (in hid_mouse.c).  PR #6172 <https://github.com/Genymobile/scrcpy/pull/6172>",6,6,12
Genymobile/scrcpy,98d30288f78b0dd40ae1aa1b285c45f5769f49fc,Romain Vimont,2025-06-17T19:02:41Z,"Prepare the main looper earlier  The looper must be initialized before listing apps, to avoid the following error:  > Can't create handler inside thread that has not called > Looper.prepare()  Refs 283326b2f6fa3fdaeecc181f69a3a4bcd429c06a Fixes #6165 <https://github.com/Genymobile/scrcpy/issues/6165>",2,1,3
Genymobile/scrcpy,d74cfd5711b2ae2a12e38c0e7111e1af0f9af72c,Romain Vimont,2025-06-13T07:40:20Z,Silence DiscouragedPrivateApi lint warning,2,0,2
Genymobile/scrcpy,cd3a5d50b650da6dcafbdbddd606ef5031f1833a,Romain Vimont,2025-06-13T07:24:36Z,"Create ClipboardManager from the main thread  The ClipboardManager is instantiated by the first call to ServiceManager.getClipboardManager().  Now that scrcpy uses android.content.ClipboardManager directly, it must ensure that it is created on the main thread (or at least on a thread with a Looper), to avoid the following error:  > Can't create handler inside thread that has not called > Looper.prepare()  Refs 8a02e3c2f58cffc3fdd8c08b26aae04bbf9d5a97 Fixes #6151 <https://github.com/Genymobile/scrcpy/issues/6151>",2,1,3
Genymobile/scrcpy,772f42134a327eea60955463d0ee8bb712168dd0,Romain Vimont,2025-06-13T07:36:34Z,"Use Context.CLIPBOARD_SERVICE directly  The constant is defined in Context, not FakeContext.",2,2,4
Genymobile/scrcpy,38256d8ff9d019f8d4fd84719eeafd0214c836e8,berk ziya,2025-06-12T13:27:40Z,"Fix deprecated brew command  `brew cask` is an outdated command, replaced by `brew install --cask`.  Refs #5398 <https://github.com/Genymobile/scrcpy/pull/5398> PR #6149 <https://github.com/Genymobile/scrcpy/pull/6149>  Signed-off-by: Romain Vimont <rom@rom1v.com>",1,1,2
Genymobile/scrcpy,4e1cf13a5092bfe8651c8f55eda3861b7d01b64a,Romain Vimont,2025-06-12T07:03:39Z,"Run a main looper in the cleanup process  Since a main looper is explicitly run in the main process, the initialization of workarounds no longer calls Looper.prepareMainLooper(), leading to a crash:      java.lang.RuntimeException: Can't create handler inside thread     Thread[main,5,main] that has not called Looper.prepare()  As a result, --power-off-on-close was broken.  Refs 283326b2f6fa3fdaeecc181f69a3a4bcd429c06a Fixes #6146 <https://github.com/Genymobile/scrcpy/issues/6146>",9,0,9
Genymobile/scrcpy,696402c68c5f91fa77c3ed03cd835dc4412a253e,Romain Vimont,2025-06-11T20:15:30Z,Update links to 3.3,21,21,42
Genymobile/scrcpy,dc169e425e9cc94e8e871dbeac24bdebd277bf39,Romain Vimont,2025-06-11T17:39:48Z,Bump version to 3.3,5,5,10
Genymobile/scrcpy,13fc75902a78e18ec747a54524f7c7ead2d2f07d,Romain Vimont,2025-06-11T17:39:09Z,Merge branch 'master' into release,3,4,7
Genymobile/scrcpy,454beaa7571d3d86339a53a5a3202bd47e1d2353,Romain Vimont,2025-06-11T17:39:02Z,Upgrade libusb (1.0.29),2,2,4
Genymobile/scrcpy,1a9ffb38146b7f70021387ccb0206c873fb07d99,Romain Vimont,2025-06-11T17:38:29Z,Upgrade SDL (2.32.8),2,36,38
Genymobile/scrcpy,ac16be54c8d4afed7c69b7132719b37282baea49,Romain Vimont,2025-06-11T17:36:22Z,Upgrade platform-tools (36.0.0),6,6,12
Genymobile/scrcpy,8a02e3c2f58cffc3fdd8c08b26aae04bbf9d5a97,Romain Vimont,2025-04-17T16:09:55Z,"Simplify ClipboardManager wrapper  Use the public ClipboardManager API, with the FakeContext as context.  This requires a running main looper, otherwise clipboard changes are not processed.  Refs #6009 <https://github.com/Genymobile/scrcpy/pull/6009> PR #6129 <https://github.com/Genymobile/scrcpy/pull/6129>  Suggested by: Simon Chan <1330321+yume-chan@users.noreply.github.com>",48,254,302
Genymobile/scrcpy,283326b2f6fa3fdaeecc181f69a3a4bcd429c06a,Romain Vimont,2025-06-05T18:33:15Z,"Run a main looper  Instead of blocking the main thread until completion, run a looper.  This will allow the main thread to process any event posted to the main looper.  Refs #6009 comment <https://github.com/Genymobile/scrcpy/pull/6009#issuecomment-2940810736> PR #6129 <https://github.com/Genymobile/scrcpy/pull/6129>",19,27,46
Genymobile/scrcpy,ca4f50c5ef12eee2c0efb562e157a8b2d75cb001,Simon Chan,2025-04-16T06:26:24Z,Associate UHID devices to virtual displays  This allows the mouse pointer to appear on the correct display (only for devices running Android 15+).  Fixes #5547 <https://github.com/Genymobile/scrcpy/issues/5547> PR #6009 <https://github.com/Genymobile/scrcpy/pull/6009>  Signed-off-by: Romain Vimont <rom@rom1v.com>,134,14,148
Genymobile/scrcpy,7a3fe830d4d85d02ec21a23b88d8b48ce798a13e,Romain Vimont,2025-05-02T21:03:15Z,Synchronize access to DisplayManager  The DisplayManager and its method getDisplayInfo() may be used from both the Controller thread and the video (main) thread.  PR #6009 <https://github.com/Genymobile/scrcpy/pull/6009>,4,2,6
Genymobile/scrcpy,ee414231ed136a59113787dc83a739623518c728,Romain Vimont,2025-05-03T11:43:10Z,Cache getDisplayInfo method  Do not use reflection to retrieve the method for every call.  PR #6009 <https://github.com/Genymobile/scrcpy/pull/6009>,10,1,11
Genymobile/scrcpy,41ed40f5f9ee557c5ccbca8b30a51c74af92da92,Simon Chan,2025-04-25T04:31:22Z,Simplify InputManager wrapper  Use the public InputManager API.  PR #6009 <https://github.com/Genymobile/scrcpy/pull/6009>  Signed-off-by: Romain Vimont <rom@rom1v.com>,9,22,31
Genymobile/scrcpy,d2cc930975a8c7a2a073a9bffd9c2576d58cff7b,Colin Kinloch,2025-05-22T17:50:41Z,"Add app name SDL hint  This allows pulseaudio to label the audio stream ""scrcpy"" rather than ""SDL Application"".  PR #6107 <https://github.com/Genymobile/scrcpy/pull/6107>  Signed-off-by: Romain Vimont <rom@rom1v.com>",19,0,19
Genymobile/scrcpy,52f5d08d1fab9600e78b21c71fa4a6c106d3783f,Romain Vimont,2025-06-03T19:13:29Z,"Avoid calling wait(0)  Calling wait(0) results in waiting without a timeout, which is unintended.  Refs #6009 comment <https://github.com/Genymobile/scrcpy/pull/6009#issuecomment-2935930294>",3,1,4
Genymobile/scrcpy,70bfa2cf394955accb7446a99f9b6c6f5dfbaa2c,Romain Vimont,2025-05-15T17:51:36Z,Remove useless flag in zsh completion script  The -N flag is only useful after a pattern section (-p) to switch back to listing command names.  Refs <https://zsh.sourceforge.io/Doc/Release/Completion-System.html>,1,1,2
Genymobile/scrcpy,38f779d9d37833e617a577b5a9f3bc91d0358174,hltdev8642,2025-05-09T13:42:01Z,Escape parentheses in zsh completion script  PR #6079 <https://github.com/Genymobile/scrcpy/pull/6079>  Co-authored-by: Romain Vimont <rom@rom1v.com> Signed-off-by: Romain Vimont <rom@rom1v.com>,4,4,8
Genymobile/scrcpy,8cd63cb63eeb4873b304a44fb66d55db03f2dd36,Romain Vimont,2025-05-09T16:22:40Z,"Report specific error for INJECT_EVENT permission  Some devices require a specific option to be enabled in Developer Options to avoid a permission issue when injecting input events.  When this error occurs, hide the stack trace and print a human-readable message explaining how to fix the issue.  PR #6080 <https://github.com/Genymobile/scrcpy/pull/6080>",20,1,21
Genymobile/scrcpy,cc309a2b34da13bbc15fbb64a6bba33ff8c79ce1,Romain Vimont,2025-05-02T09:37:47Z,Build static linux binary on Ubuntu 22.04  Ubuntu 20.04 is no longer available on GitHub Actions.  Refs <https://github.com/actions/runner-images/issues/11101> Refs #6050 <https://github.com/Genymobile/scrcpy/pull/6050>  This reverts commit 69858c6f437b1bfece96bc291c607de842837d36.,1,1,2
Genymobile/scrcpy,91a4a74641903bedff189548cc5c33289752b4b4,Romain Vimont,2025-04-25T08:23:08Z,"Move regex pattern initialization  If text == null, then the Pattern is not used.",1,1,2
Genymobile/scrcpy,48f38c4bb6d91e378a657082e0da7eb846d25acc,Romain Vimont,2025-04-24T14:12:28Z,Fix default locked capture orientation  The default landscape locked orientation was reversed.  Fixes #6010 <https://github.com/Genymobile/scrcpy/issues/6010>,5,3,8
Genymobile/scrcpy,6875e9aa88833525b60322597304b01f6ba91987,Romain Vimont,2025-04-24T14:05:13Z,"Revert ""Fix AudioRecord package name for Android 16""  This reverts commit c27d116a662c87ee84963820669ee0d2ce60e6f1.  This commit breaks audio on Android 16 beta 4.  Refs #5960 comment <https://github.com/Genymobile/scrcpy/issues/5960#issuecomment-2816608015> Fixes #6021 <https://github.com/Genymobile/scrcpy/issues/6021>",1,1,2
Genymobile/scrcpy,c5ed2cfc28ee7c7b59b11eb4db1258ac1c633bff,Nicholas Wilson,2025-04-18T14:54:59Z,"Replace ""licence"" with ""license"" in README  Although ""licence"" is correct in British English, the rest of the statement uses ""license,"" so change it for consistency.  PR #6017 <https://github.com/Genymobile/scrcpy/pull/6017>  Signed-off-by: Romain Vimont <rom@rom1v.com>",1,1,2
Genymobile/scrcpy,1a0d300786827974b5a593959c1c21f89469777e,Romain Vimont,2025-04-14T16:07:37Z,Add missing --screen-off-timeout doc in manpage  Refs eff5b4b219be6043a3baf51149b1d6752569a173,4,0,4
Genymobile/scrcpy,d2447b5c1982b8c91fbce8f515aeedac3d2ecb33,Romain Vimont,2025-04-14T16:05:08Z,"Fix --screen-off-timeout bash completion  Only the option must be auto-completed, not its value.",1,0,1
Genymobile/scrcpy,5900e9e39c7496bf8dfc1f246c6bbf0a1e072a69,Romain Vimont,2025-04-07T08:30:56Z,Remove irrelevant link in FAQ,2,3,5
Genymobile/scrcpy,882003f314ad5077a41bbc936831aeb36dd8b078,Romain Vimont,2025-04-03T06:04:11Z,"Fix segfault on SDL event without window  Since #5804, controls have been enabled even with --no-window. As a result, the Android clipboard is synchronized with the computer, causing SDL to trigger an SDL_CLIPBOARDUPDATE event.  This event is ignored by scrcpy, but it was still transmitted to the sc_screen instance, even if it had not been initialized.  Fix the issue by calling sc_screen_handle_event() only when a screen instance exists.  Refs #5804 <https://github.com/Genymobile/scrcpy/pull/5804> Fixes #5970 <https://github.com/Genymobile/scrcpy/issues/5970>",3,3,6
Genymobile/scrcpy,db9dc6ae836193dcd7883d001fdddbf54cbe9859,Romain Vimont,2025-04-01T09:04:34Z,Make the snap version as obsolete  The version of scrcpy packaged in snap is currently 1.25.  Refs <https://snapcraft.io/scrcpy>,1,1,2
Genymobile/scrcpy,e0f37f834bb2e9371c0ca893757b60eb36e759af,Romain Vimont,2025-03-29T15:15:14Z,Update links to 3.2,21,21,42
Genymobile/scrcpy,89b624770c7cc133cd14070a1ba766df3befa85f,Romain Vimont,2025-03-29T14:45:28Z,Bump version to 3.2,5,5,10
Genymobile/scrcpy,79227af89ffdf7de776f4e674e50506ea382d763,Romain Vimont,2025-03-29T14:44:29Z,Merge branch 'master' into release,62,43,105
Genymobile/scrcpy,5d12d9071dad6d9d80197546d820dc90fbd31998,Romain Vimont,2025-03-29T14:06:00Z,Upgrade FFmpeg (7.1.1),2,2,4
Genymobile/scrcpy,b7add421544039c4fd5ba97243578f0fbcc908a7,Romain Vimont,2025-03-29T14:03:42Z,Upgrade SDL (2.32.2)  Also apply this additional patch to fix the build: <https://github.com/libsdl-org/SDL/commit/6be87ceb33a9aad3bf5204bb13b3a5e8b498fd26>,36,2,38
Genymobile/scrcpy,dd1bfae4e00e5756e5f4f43649ce9d6a824cf028,Romain Vimont,2025-03-29T14:02:38Z,Upgrade libusb (1.0.28),2,2,4
Genymobile/scrcpy,bef2d8473b3426b1dd2ea9ed0cae3a243a999218,Romain Vimont,2025-02-22T11:18:05Z,Add more audio sources  Expose more audio sources from MediaRecorder.AudioSource.  Refs <https://developer.android.com/reference/android/media/MediaRecorder.AudioSource>  Fixes #5412 <https://github.com/Genymobile/scrcpy/issues/5412> Fixes #5670 <https://github.com/Genymobile/scrcpy/issues/5670> PR #5870 <https://github.com/Genymobile/scrcpy/pull/5870>,132,18,150
Genymobile/scrcpy,609719bde025559067e9d11672178531f8431619,Romain Vimont,2025-02-22T10:40:24Z,Refactor audio sources  Store the target audio source integer (one of the constants from android.media.MediaRecorder.AudioSource) in the AudioSource enum (or -1 if not relevant).  This will simplify adding new audio sources.  PR #5870 <https://github.com/Genymobile/scrcpy/pull/5870>,13,17,30
Genymobile/scrcpy,3a0703f428fe024c0bb226c0e311966be22ef57c,Romain Vimont,2025-02-16T16:38:27Z,"Handle audio stream discontinuities  The audio regulator assumed a continuous audio stream. But some audio sources (like the ""voice call"" audio source) do not produce any packets on silence, breaking this assumption.  Use PTS to detect such discontinuities.  PR #5870 <https://github.com/Genymobile/scrcpy/pull/5870>",81,1,82
Genymobile/scrcpy,245981281e99662aa77e53259a0864ead39ff438,Romain Vimont,2025-03-02T16:09:43Z,"Fix PTS produced by the default opus/flac encoders  The default OPUS and FLAC encoders on Android rewrite the input PTS so that they exactly match the number of samples.  As a consequence:  - audio clock drift is not compensated  - implicit silences (without packets) are ignored  To work around this behavior, generate new PTS based on the current time (after encoding) and the packet duration.  PR #5870 <https://github.com/Genymobile/scrcpy/pull/5870>",31,0,31
Genymobile/scrcpy,1d253381198495ae351e2fba377a0b325f4b8bfb,Romain Vimont,2025-02-22T10:20:35Z,"Report underflow samples in verbose mode  Report the number of silence samples inserted due to underflow every second, along with the other metrics.  PR #5870 <https://github.com/Genymobile/scrcpy/pull/5870>",8,1,9
Genymobile/scrcpy,457c7fe5cfa5165c02d4263cd7d2a41598990d0e,Romain Vimont,2025-02-22T10:09:16Z,"Disable audio regulator underflow logs  Only enable them if SC_AUDIO_REGULATOR_DEBUG is set, as they may spam the output.  PR #5870 <https://github.com/Genymobile/scrcpy/pull/5870>",5,1,6
Genymobile/scrcpy,7998811fa55a4f1610dd07680a387251ead2dd1f,Romain Vimont,2025-03-09T20:15:58Z,Mention that no Android app is required,2,2,4
Genymobile/scrcpy,7044122fc59cad404722215f375a711667bc4fa0,Romain Vimont,2025-03-09T20:10:21Z,Simplify wording in README,4,4,8
Genymobile/scrcpy,c63d9e1803c658b29b067d5ea68baa38df7e1359,Romain Vimont,2025-03-07T17:40:28Z,Work around broken display listener on Android 15  A recent Android 15 upgrade broke the display listener (again). Use the alternative method for Android >= 14.  Fixes #5908 <https://github.com/Genymobile/scrcpy/issues/5908>,3,1,4
Genymobile/scrcpy,d892a9aac58bd35b778ff8a0a933d11ec8092df1,Romain Vimont,2025-02-22T11:22:45Z,"Disable checkstyle line length warning  Checkstyle reports a warning because the line containing a long URL is more than 150 characters. But we can't split the URL, so disable the warning.",1,0,1
Genymobile/scrcpy,fd8bef68b794442d9f3bbf47d85632f9a16e504a,chengjian.scj,2024-12-25T07:30:37Z,"Add --display-ime-policy option  Add an option to select where the IME should be displayed.  Possible values are ""local"", ""fallback"" and ""hide"".  PR #5703 <https://github.com/Genymobile/scrcpy/pull/5703>  Signed-off-by: Romain Vimont <rom@rom1v.com>",239,7,246
Genymobile/scrcpy,986328ff9ea82a709f2c31ad3cdd4e86ac845c24,Sam Listopad II,2025-01-30T20:02:12Z,"Allow controls with --no-window  Without a window, mouse and keyboard events may not be received, but the control channel is still necessary for other features:   * --turn-screen-off  * --stay-awake  * --show-touches  * --power-off-on-close  * --start-app  Fixes #5803 <https://github.com/Genymobile/scrcpy/issues/5803> PR #5804 <https://github.com/Genymobile/scrcpy/pull/5804>  Signed-off-by: Romain Vimont <rom@rom1v.com>",5,5,10
Genymobile/scrcpy,0ba9d3570560cb46b52a0696134442aeb7f634e6,Romain Vimont,2025-01-15T09:54:57Z,Mention virtual display destruction  The new virtual display does not persist after scrcpy exits.,2,0,2
Genymobile/scrcpy,cac8e9c821b9b8314d57e84ccbf685929af08794,Romain Vimont,2025-01-01T14:01:18Z,Happy new year 2025!,3,3,6
Genymobile/scrcpy,1c7680f689684fe45b8fa8e1525add5dc3cdfdd2,Jaime J. Denizard,2024-12-31T21:21:36Z,Fix some grammatical issues in documentation  PR #5722 <https://github.com/Genymobile/scrcpy/pull/5722>  Signed-off-by: Romain Vimont <rom@rom1v.com>,5,4,9
Genymobile/scrcpy,c27d116a662c87ee84963820669ee0d2ce60e6f1,Simon Chan,2024-12-23T11:04:18Z,"Fix AudioRecord package name for Android 16  Since commit 9f91a5eebb4520b9333576e946b3911d0f946a04 in frameworks/av (AOSP), an AudioRecord can be created only if the declared package name in the AttributionSource is ""shell"" (for the shell UID):  - <https://android.googlesource.com/platform/frameworks/av/+/7c4e6991acdf8d110e9b00d144863c3c4823bc43/services/audiopolicy/permission/NativePermissionController.cpp#129>  - <https://android.googlesource.com/platform/frameworks/av/+/7c4e6991acdf8d110e9b00d144863c3c4823bc43/services/audiopolicy/permission/NativePermissionController.cpp#40>  Refs <https://android.googlesource.com/platform/frameworks/av/+/9f91a5eebb4520b9333576e946b3911d0f946a04%5E%21/> Fixes #5698 <https://github.com/Genymobile/scrcpy/issues/5698>  Signed-off-by: Romain Vimont <rom@rom1v.com>",1,1,2
Genymobile/scrcpy,eac711ace68da43b09a4da99f7990143ae93f7c1,Romain Vimont,2024-12-23T11:51:27Z,Remove unused rotation and fold listeners  IRotationWatcher and IDisplayFoldListener are no longer used since commit 39d51ff2cc2f3e201ad433d48372b548e5dd11d3.,0,101,101
Genymobile/scrcpy,af15c72f9caef4f829d337c35701d8bc00a58989,Romain Vimont,2024-12-20T19:58:41Z,Cleanup includes  Improved manually with the help of neovim LSP warnings and iwyu:      iwyu -Ibuilddir/app/ -Iapp/src/ app/src/XXX.c,225,151,376
Genymobile/scrcpy,5b1229a55f8e89facaeb0d3757e37c49d62e88fb,Simon Chan,2024-12-22T17:12:54Z,Support older macOS versions in CI build  Fixes #5649 <https://github.com/Genymobile/scrcpy/issues/5649> Fixes #5697<https://github.com/Genymobile/scrcpy/pull/5697>  Signed-off-by: Romain Vimont <rom@rom1v.com>,14,0,14
Genymobile/scrcpy,69858c6f437b1bfece96bc291c607de842837d36,Romain Vimont,2024-12-23T10:01:42Z,Build static linux binary on Ubuntu 20.04  Use the oldest Ubuntu version currently available in GitHub Actions to ensure maximum compatibility with older systems.  Refs 95c4f03c1bfd566b383780977b3473ebad6477ee Refs #5689 <https://github.com/Genymobile/scrcpy/issues/5689>,1,1,2
Genymobile/scrcpy,e0423653c892a62342bf665473093a9a020e0ffc,Romain Vimont,2024-12-23T09:58:02Z,Remove useless null check  The method CameraManager.getCameraIdList() is annotated with @NonNull.  This fixes a warning reported by Android Studio.,1,1,2
Genymobile/scrcpy,538764416099c803fcb041ecffa2c849829b7222,Romain Vimont,2024-12-22T20:17:51Z,Ignore low-FPS ranges if not available  Do not report an error if the returned FPS ranges array is null.  Refs #5669 <https://github.com/Genymobile/scrcpy/pull/5669>,4,2,6
Genymobile/scrcpy,2f44da76f4767aec2f42e6882a30c62615e0f139,Simon Chan,2024-12-15T15:50:58Z,Filter out non-backward-compatible cameras  PR #5669 <https://github.com/Genymobile/scrcpy/pull/5669>  Signed-off-by: Romain Vimont <rom@rom1v.com>,23,1,24
Genymobile/scrcpy,95c4f03c1bfd566b383780977b3473ebad6477ee,Romain Vimont,2024-12-19T11:25:20Z,"Build static linux binary on Ubuntu 22.04  On Github Actions, ubuntu-latest now points to ubuntu-24.04, which uses a newer version of glibc (2.39). As a result, the binaries fail to work on systems with older versions of glibc, such as Debian Bookworm.  To ensure better compatibility, continue building the static Linux binary on Ubuntu 22.04 (with glibc 2.35).  Fixes #5689 <https://github.com/Genymobile/scrcpy/issues/5689>",1,1,2
Genymobile/scrcpy,fb47b87eebbda65fd28e407cd2a6d33fea476fe3,Romain Vimont,2024-12-20T19:57:20Z,"Fix pipe read return value  The function incorrectly returned false, whereas its return type is ssize_t.",2,2,4
Genymobile/scrcpy,5ae01749bf4fad9fb4d8bf7c879dc60f479c1013,Markus,2024-12-19T01:12:58Z,Reintroduce WinGet install note  This semantically reverts c27ab46efbcab0b9558a91e691d799ffef496c97.  WinGet package has been fixed by: <https://github.com/microsoft/winget-pkgs/pull/196442>  Refs #4027 <https://github.com/Genymobile/scrcpy/issues/4027> PR #5686 <https://github.com/Genymobile/scrcpy/pull/5686>  Signed-off-by: Romain Vimont <rom@rom1v.com>,7,1,8
Genymobile/scrcpy,1fd57ede1f7caca8d9dad73b0fe778079fad73f1,Romain Vimont,2024-12-17T12:09:24Z,"Move ""screen off timeout"" section in documentation  Place the ""screen off timeout"" section right after ""stay awake"", as they serve a similar purpose.",25,25,50
Genymobile/scrcpy,48fc18e3806e6eb77772f9f89671884b40c61714,Romain Vimont,2024-12-17T11:21:59Z,Add must-know tips  All users should be aware of the main shortcuts and the most important setting to improve performance.,10,0,10
Genymobile/scrcpy,ea6a94d355b92b103da8931d175f2a4a35e8e301,Romain Vimont,2024-12-17T11:20:50Z,Fix mouse documentation formatting  Make the format consistent with the shortcuts documentation.,6,6,12
Genymobile/scrcpy,dc2fcc46f516588f4575c1fe8cfeca3e57a1653c,Romain Vimont,2024-12-14T09:15:20Z,Add workaround for Pico 4 Ultra  Make ActivityThread.isSystem() return true to avoid a NullPointerException later.  Refs #5659 comment <https://github.com/Genymobile/scrcpy/issues/5659#issuecomment-2540963953> Fixes #5659 <https://github.com/Genymobile/scrcpy/issues/5659>,5,0,5
Genymobile/scrcpy,69264703b11614d022c31096d70eec14870393c7,Romain Vimont,2024-12-14T09:25:13Z,"Add missing comments in workarounds  The implementation of workarounds uses a lot of reflection code. For better readability, always write the equivalent using direct Java code.",3,0,3
Genymobile/scrcpy,ec4e826976d977870fc35d33591fd6164ee9d792,Colin Kinloch,2024-12-12T12:41:22Z,Set icon and server env paths for meson devenv  This allows users to compile and run the project in a dev environment.      meson setup x     meson compile -C x     meson devenv -C x     scrcpy  This is an alternative to `./run x`.  PR #5658 <https://github.com/Genymobile/scrcpy/pull/5658>  Signed-off-by: Romain Vimont <rom@rom1v.com>,12,0,12
Genymobile/scrcpy,17e205e54f8c975c18d3466ce2a9a5663bfbaf96,Romain Vimont,2024-12-12T16:59:36Z,Replace meson join_paths() by '/'  A new '/' operator was introduced in Meson 0.49 to replace join_paths():  - <https://mesonbuild.com/Reference-manual_functions.html#join_paths>  - <https://mesonbuild.com/Syntax.html#string-path-building>  Refs #5658 <https://github.com/Genymobile/scrcpy/pull/5658>,6,6,12
Genymobile/scrcpy,f751274b1762a183d2848a86458b8a459b50250a,Romain Vimont,2024-12-12T16:52:17Z,"Define both pkg-config and pkgconfig for meson  In Meson cross-files, ""pkgconfig"" was deprecated in favor of ""pkg-config"" in meson 1.3.0.  The new name is used since 85a94dd4b563e961304b2d9082932c5c1cc2e582 to avoid a warning, but then it fails with older versions of meson.  To avoid the problem, define both pkg-config and pkgconfig.  > For backward compatibility it is still allowed to define both with the > same value, in that case no deprecation warning is printed.  <https://mesonbuild.com/Release-notes-for-1-3-0.html#machine-files-pkgconfig-field-deprecated-and-replaced-by-pkgconfig>",4,6,10
Genymobile/scrcpy,6469054b15355e55ddfa713fa9cef5b88fa46358,Romain Vimont,2024-12-12T17:07:58Z,"Revert ""Remove apt update on GitHub Actions""  This reverts commit 678025b31672c230575fe2dbc4a0d487d5010bb1.  This avoids spurious errors on the CI:      E: Unable to fetch some archives, maybe run apt-get update or try     with --fix-missing?",4,0,4
Genymobile/scrcpy,0e2d084751b0513f5db1b7e7afc5460766f4b5c7,Romain Vimont,2024-12-08T17:36:20Z,Update links to 3.1,21,21,42
Genymobile/scrcpy,754f4fc6fec42774183a0e821be2a8852366b7bd,Romain Vimont,2024-12-08T17:15:46Z,Bump version to 3.1,5,5,10
Genymobile/scrcpy,aca6d30af5338e27571ed124ff3ef26479b214c5,Romain Vimont,2024-12-09T17:30:37Z,"Include dav1d in releases  Scrcpy supports AV1, but no decoder was provided in binary releases.  Include dav1d:  - <https://www.videolan.org/projects/dav1d.html>  - <https://code.videolan.org/videolan/dav1d>  Fixes #4744 <https://github.com/Genymobile/scrcpy/issues/4744> PR #5644 <https://github.com/Genymobile/scrcpy/pull/5644>",76,0,76
Genymobile/scrcpy,f2018e026c5748db89a31bc2f3535942c081a9ba,Romain Vimont,2024-12-09T17:23:56Z,"Remove broken macOS flags  Due to a typo (a space was missing before the second '-L'), the resulting LDFLAGS value was broken:      ""-L/opt/homebrew/opt/zlib/lib-L/opt/homebrew/opt/libiconv/lib""  This proves that the flag was useless. Remove it.  Refs #5517 comment <https://github.com/Genymobile/scrcpy/pull/5517#issuecomment-2495522201> PR #5644 <https://github.com/Genymobile/scrcpy/pull/5644>",0,5,5
Genymobile/scrcpy,a507b4f5593d960aacb075082fd7b55cb672ee32,Simon Chan,2024-12-09T09:11:17Z,"Fix DisplayControl classpath  Use the full system server classpath to load DisplayControl, so that turning the screen off on Android 14+ does not crash on certain devices.  Refs #4544 comment <https://github.com/Genymobile/scrcpy/issues/4544#issuecomment-2526999714> Fixes #4544 <https://github.com/Genymobile/scrcpy/issues/4544> Fixes #5274 <https://github.com/Genymobile/scrcpy/issues/5274>  Signed-off-by: Romain Vimont <rom@rom1v.com>",4,1,5
Genymobile/scrcpy,a9aadc95df6ec51198430a986ac8f56434b25e9d,Romain Vimont,2024-12-09T08:33:08Z,Start cleanup process with setsid()  Reimplement c59a3c3169973abb4ce236e06990d58ae6567481 using Os.setsid().  Refs #5613 comment <https://github.com/Genymobile/scrcpy/pull/5613#issuecomment-2527045669>  Suggested-by: Simon Chan <1330321+yume-chan@users.noreply.github.com>,8,0,8
Genymobile/scrcpy,28b5bfb90e76f059571a88931b86eb86f6ca8dd7,Romain Vimont,2024-12-09T08:29:29Z,"Revert ""Start cleanup process with setsid or nohup""  This reverts commit c59a3c3169973abb4ce236e06990d58ae6567481.  The next commit will use Os.setsid() instead.",10,18,28
Genymobile/scrcpy,65256d7cc77216424976eb2ca83befde112c0e26,Romain Vimont,2024-12-08T16:13:50Z,Upgrade SDL (2.30.10),2,2,4
Genymobile/scrcpy,328bb74f8002693e4be2703450305e82fc015e88,Romain Vimont,2024-12-08T16:07:03Z,Log gamepad added/removed  Add a log when a gamepad is added or removed.  PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>,8,0,8
Genymobile/scrcpy,7418fd06626a2ae405f4bfbe9980a9c4ebd744a7,Withoutruless,2024-12-08T15:49:07Z,Use Xbox 360 gamepad name  Some games do not work without a known gamepad name.  Fixes #5362 <https://github.com/Genymobile/scrcpy/issues/5362> Refs #5623 comment <https://github.com/Genymobile/scrcpy/pull/5623#issuecomment-2525685323> PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>  Signed-off-by: Romain Vimont <rom@rom1v.com>,5,13,18
Genymobile/scrcpy,0a09518a49cb495ba76573597cf38169f6813209,Romain Vimont,2024-12-07T17:01:23Z,Use Xbox 360 gamepad USB ids  Use the vendorId and productId of an Xbox 360 controller for better support (the HID gamepad protocol used in scrcpy is similar to that of the Xbox 360 controller).  Fixes #5362 <https://github.com/Genymobile/scrcpy/issues/5362> PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>,3,2,5
Genymobile/scrcpy,27a5934a1d5365332e4338f76508139dbd61d1ef,Romain Vimont,2024-12-07T11:43:49Z,"Define UHID vendorId and productId from the client  Let the client choose the USB ids, that it transmits in UHID_CREATE requests.  PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>",52,13,65
Genymobile/scrcpy,86a68fac6c631a01e8d0132eee0fc5a831e78417,Romain Vimont,2024-12-07T13:40:04Z,"Fix gamepad axis initial values  By default, initialize axis to 0, which is represented by 0x8000 as a 16-bit unsigned value.  PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>",7,6,13
Genymobile/scrcpy,1786f28e6f9f9c597f4d66de88c206489cb87122,Romain Vimont,2024-12-06T11:53:28Z,"Fix gamepad HID descriptor  Use Z and Rz for L2/R2, which are more widely supported than Brake/Accelerator.  The right stick must then be bound to Rx and Ry.  Fixes #5362 <https://github.com/Genymobile/scrcpy/issues/5362> PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>",10,10,20
Genymobile/scrcpy,9cf4d527215a3f21077b4d28466632be26f72917,Romain Vimont,2024-12-06T11:53:07Z,Fix HID gamepad comments  PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>,3,3,6
Genymobile/scrcpy,4bd1c5981db307155452fa7594945e069542ddb3,Romain Vimont,2024-12-07T13:12:53Z,Split gamepad device added/removed events  Use two separate callbacks for gamepad device added and gamepad device removed.  It looks cleaner.  PR #5623 <https://github.com/Genymobile/scrcpy/pull/5623>,80,82,162
Genymobile/scrcpy,c59a3c3169973abb4ce236e06990d58ae6567481,Romain Vimont,2024-12-05T19:08:21Z,"Start cleanup process with setsid or nohup  If available, start the cleanup process in a new session to reduce the likelihood of it being terminated along with the scrcpy server process on some devices.  The binaries setsid and nohup are often available, but it is not guaranteed.  Refs #5601 <https://github.com/Genymobile/scrcpy/issues/5601> PR #5613 <https://github.com/Genymobile/scrcpy/pull/5613>",18,10,28
Genymobile/scrcpy,2780e0bd7b7c1d4bdbbfc07e7a2b978b48abf3c2,Romain Vimont,2024-12-05T18:56:53Z,"Do not interrupt cleanup configuration  Some options, such as --show-touches or --stay-awake, modify Android settings and must be restored upon exit.  If scrcpy terminates (e.g. due to an early error) in the middle of the clean up configuration, the device may be left in an inconsistent state (some settings might be changed but not restored).  This issue can be reproduced with high probability by forcing scrcpy to fail:      scrcpy --show-touches --video-encoder=fail  To prevent this problem, ensure that the clean up thread is not interrupted until the clean up process is started.  Refs #5601 <https://github.com/Genymobile/scrcpy/issues/5601> PR #5613 <https://github.com/Genymobile/scrcpy/pull/5613>",15,7,22
Genymobile/scrcpy,6c6607d404b0e8e886852537c382d3732f3454d7,Romain Vimont,2024-12-05T20:02:50Z,"Add --no-vd-destroy-content  Add an option to disable the following flag for virtual displays:      DisplayManager.VIRTUAL_DISPLAY_FLAG_DESTROY_CONTENT_ON_REMOVAL  With this option, when the virtual display is closed, the running apps are moved to the main display rather than being destroyed.  PR #5615 <https://github.com/Genymobile/scrcpy/pull/5615>",53,2,55
Genymobile/scrcpy,988174805c1942c3a06caa6f715d896764b1fb00,Romain Vimont,2024-12-05T19:50:12Z,"Fix boolean assignment  On --no-vd-system-decoration, the boolean option must be set to false.  It was wrongly assigned from optarg (this worked because optarg is NULL at this point, so it was converted to false).  PR #5615 <https://github.com/Genymobile/scrcpy/pull/5615>",1,1,2
Genymobile/scrcpy,f90dc216d10ac062ab1a06e14e574acc5569d2c3,Romain Vimont,2024-12-04T22:58:22Z,"Refactor virtual display properties initialization  Following the changes from the previous commit, the behavior is now identical when mirroring the main display or using the SurfaceControl API.  Factorize the code to perform the initialization in a single location.  Refs #5605 <https://github.com/Genymobile/scrcpy/issues/5605> PR #5614 <https://github.com/Genymobile/scrcpy/pull/5614>",12,18,30
Genymobile/scrcpy,97fa77c76c5502105a3d128a0be2477a04f4fd1b,Romain Vimont,2024-12-04T22:35:43Z,"Inject main display events to the original display  When mirroring a secondary display, touch and scroll events must be sent to the mirroring virtual display id (with coordinates relative to the virtual display size), rather than to the original display (with coordinates relative to the original display size).  This behavior, introduced by d19396718ee0c0ba7fb578f595a6553c0458da59, was also applied for the main display for consistency. However, it causes some UI elements to become unclickable.  To minimize inconveniences, restore the previous behavior when mirroring the main display: send all events to the original display id (0) with coordinates relative to the original display size.  Fixes #5545 <https://github.com/Genymobile/scrcpy/issues/5545> Fixes #5605 <https://github.com/Genymobile/scrcpy/issues/5605> Fixes #5616 <https://github.com/Genymobile/scrcpy/issues/5616> Refs #4598 <https://github.com/Genymobile/scrcpy/issues/4598> Refs #5137 <https://github.com/Genymobile/scrcpy/issues/5137> Refs #5370 <https://github.com/Genymobile/scrcpy/pull/5370> PR #5614 <https://github.com/Genymobile/scrcpy/pull/5614>",11,3,14
Genymobile/scrcpy,baa10ed0a36ec775712be85f22d3db3f0a6e19f2,Romain Vimont,2024-12-04T21:48:27Z,Update links to 3.0.2,21,21,42
Genymobile/scrcpy,2ed2247e8fe90eefe6070384aa9895a70569e1b6,Romain Vimont,2024-12-04T21:35:25Z,Bump version to 3.0.2  The version was not bumped for 3.0.1.,5,5,10
Genymobile/scrcpy,5febb1e9fba646d8fe76f891fed001c49ed59b0d,Romain Vimont,2024-12-04T19:29:21Z,Update links to 3.0.1,22,18,40
Genymobile/scrcpy,5c3626ed47b983625481f852073cef859e7fcaf9,Romain Vimont,2024-12-04T17:38:23Z,"Handle broken pipe errors specifically  Since 9555d3a537a828731ad89ef5258ba537acf8cc11, a capture/encoding error was sometimes logged on exit.",8,0,8
Genymobile/scrcpy,0e473eb0051e7210e10fb9acef92dad3b956ca1f,Romain Vimont,2024-12-04T12:11:43Z,"Reset TCP/IP connection with a '+' prefix  When running scrcpy with --tcpip=xx.xx.xx.xx, to make sure a new working connection is established, it was first disconnected by a call to:      adb disconnect <addr>  However, this caused all running instances connected to that address to be killed. Running several instances of scrcpy on the same device is now useful with virtual displays, so change the default behavior to NOT disconnect.  To force a reconnection, a '+' prefix can be added:      scrcpy --tcpip=+192.168.0.x  Fixes #5562 <https://github.com/Genymobile/scrcpy/issues/5562>",33,14,47
Genymobile/scrcpy,b26b4fb7458b9e6c361b60198d38b28fbf5e329d,Romain Vimont,2024-12-04T11:59:48Z,Document launchers in virtual displays  Mention how to start a launcher in a virtual display.  Refs #5592 <https://github.com/Genymobile/scrcpy/issues/5592>,22,5,27
Genymobile/scrcpy,9555d3a537a828731ad89ef5258ba537acf8cc11,Romain Vimont,2024-12-03T22:06:33Z,"Retry capture on IOException  If the capture fails with an IOException, retry with a lower resolution.  Fixes #5539 <https://github.com/Genymobile/scrcpy/issues/5539>",2,2,4
Genymobile/scrcpy,aea6a371aa3f5278c8b10cf6bec7bbe215ae1518,Romain Vimont,2024-12-01T15:00:20Z,Remove scrcpy wrapper script for static builds  All portable builds now use the files located in the same directory as the scrcpy executable by default.  PR #5560 <https://github.com/Genymobile/scrcpy/pull/5560>,2,10,12
Genymobile/scrcpy,dc6c279b1e500e4c39fd0adcad425e6eab2f6944,Romain Vimont,2024-12-01T15:08:03Z,Log adb executable path  Log the ADB executable path (at the DEBUG level) if it is not the default one.  PR #5560 <https://github.com/Genymobile/scrcpy/pull/5560>,3,0,3
Genymobile/scrcpy,6d0ac3626dbc8a5ffa6693a00f370f4f93660cd8,Romain Vimont,2024-12-01T14:48:50Z,"Use local adb in portable builds  For non-Windows portable builds, use the absolute path to the adb executable located in the same directory as scrcpy.  On Windows, just use ""adb"", which is sufficient to use the local one.  PR #5560 <https://github.com/Genymobile/scrcpy/pull/5560>",11,0,11
Genymobile/scrcpy,beee42fb065a4852082e3f949cb4ee20c184f104,Romain Vimont,2024-12-01T14:47:40Z,"Load ADB value using sc_get_env()  Contrary to getenv(), the result of sc_get_env() is encoded in UTF-8 on all platforms. Since it is allocated, it requires an explicit init() and destroy() functions.  PR #5560 <https://github.com/Genymobile/scrcpy/pull/5560>",48,10,58
Genymobile/scrcpy,131372d2c4b430b01b137e2a0debb21a33963bba,Romain Vimont,2024-11-30T15:10:48Z,"Expose sc_get_env() to read environment variable  Contrary to getenv(), sc_get_env() returns an allocated string that is guaranteed to be encoded in UTF-8 on all platforms (it uses _wgetenv() internally on Windows and converts the strings).  PR #5560 <https://github.com/Genymobile/scrcpy/pull/5560>",52,34,86
Genymobile/scrcpy,0fd7534bd5a5bb3e3556b964f58a4082d941fa81,Genxster1998,2024-11-25T17:05:03Z,Add method to get executable path on MacOS  PR #5560 <https://github.com/Genymobile/scrcpy/pull/5560>  Signed-off-by: Romain Vimont <rom@rom1v.com>,18,4,22
Genymobile/scrcpy,36574d2ee7b5084a64c54951e7c97f5a46ed0388,Romain Vimont,2024-12-02T07:54:22Z,Fix .tar.gz compression  The generated .tar.gz releases were in fact non-gzipped tarballs.  Fixes #5581 <https://github.com/Genymobile/scrcpy/issues/5581>,1,1,2
Genymobile/scrcpy,3b2b3625e478855392c98367818a360dfba239bf,Romain Vimont,2024-11-28T20:10:06Z,"Accept positional control events without display  The position of touch and scroll must normally be ""resolved"" with a ""position mapper"" associated to the display.  But to support the injection of such events with scrcpy-server alone without video, handle the case where there is no display.  Fixes #5542 <https://github.com/Genymobile/scrcpy/issues/5542>",21,10,31
Genymobile/scrcpy,b2cdaa4bdce0adc256b87c3271c39a1482817dc6,Romain Vimont,2024-11-28T20:27:00Z,Factorize position mapper resolution  The code was duplicated for touch and scroll events. Extract it to a private function.  Refs #5542 <https://github.com/Genymobile/scrcpy/issues/5542>,29,23,52
Genymobile/scrcpy,d01373c03c135c0882c49c8bf95006d32fef041c,Romain Vimont,2024-11-27T09:10:18Z,Enable close-on-interrupt for macOS  This behavior is also necessary on macOS.  Fixes #5536 <https://github.com/Genymobile/scrcpy/issues/5536>,4,4,8
Genymobile/scrcpy,ff06b6dcc1dde8fb750191e07ba476b2de0c9927,Romain Vimont,2024-11-26T18:43:37Z,"Split network macro conditions  On Windows, interrupting a socket with shutdown() does not wake up accept() or read() calls, the socket must be closed.  Introduce a new macro constant SC_SOCKET_CLOSE_ON_INTERRUPT, distinct of _WIN32, because Windows will not be the only platform exhibiting this behavior.  Refs #5536 <https://github.com/Genymobile/scrcpy/issues/5536>",44,35,79
Genymobile/scrcpy,017a3672a49b55c7943217089f506a55fea8d834,Romain Vimont,2024-11-28T18:44:21Z,Check GitHub runner architecture  Make sure that the releases are built for the expected target arch.,27,0,27
Genymobile/scrcpy,c1351b250e4824017d876143b39a0d643d7a0f65,Genxster1998,2024-11-24T22:48:46Z,Build macOS x86_64 release  Add actions to build a release for macOS x86_64 in addition to the aarch64 version.  PR #5526 <https://github.com/Genymobile/scrcpy/pull/5526>  Signed-off-by: Romain Vimont <rom@rom1v.com>,71,0,71
Genymobile/scrcpy,618a978f5b3a37ba08ee7f9832a77fba4e19c667,Romain Vimont,2024-11-25T09:28:39Z,Specify architecture for Linux and macOS releases  PR #5526 <https://github.com/Genymobile/scrcpy/pull/5526>  Co-authored-by: Genxster1998 <ck.2229.ck@gmail.com>,52,38,90
Genymobile/scrcpy,acddd811bf9192fce2ca3332b6f7f654b3d3a0e6,Romain Vimont,2024-11-25T09:00:11Z,"Rename TARGET to TARGET_DIRNAME  This avoids confusion with ""$1"", which is also documented as ""<target>"".  If ""$1"" (the target) is ""linux"", then TARGET_DIRNAME is ""scrcpy-linux-v3.0"".",10,10,20
Genymobile/scrcpy,ee9f7126ffba412d7a7b3119c55b968d5d6e7502,Romain Vimont,2024-11-25T08:54:55Z,"Use FORMAT variable name in package_client.sh  The format is used several times, avoid using ""$2"" directly.",2,2,4
Genymobile/scrcpy,a18ed1ee7ab10143239e8bf979cfa9bf938a4ea3,Romain Vimont,2024-11-25T09:21:19Z,"Simplify GitHub actions step descriptions  Each step is executed within the context of an action, so mentioning the name of the action is unnecessary.",19,19,38
Genymobile/scrcpy,678025b31672c230575fe2dbc4a0d487d5010bb1,Romain Vimont,2024-11-25T23:13:02Z,Remove apt update on GitHub Actions  Assume the image is up-to-date.,0,4,4
Genymobile/scrcpy,3e689020baa1b3ea1b66cba3260a7a33be458a06,Romain Vimont,2024-11-27T06:45:35Z,Fix null return value in DisplayManager.toString()  Ensure DisplayListener.toString() returns a non-null value to prevent a NullPointerException on certain devices.  Fixes #5537 <https://github.com/Genymobile/scrcpy/issues/5537>,3,0,3
Genymobile/scrcpy,3d1f036c04412e17a694e6a0b857b7f9e9217ab3,Romain Vimont,2024-11-26T14:47:27Z,"Rollback to old --turn-screen-off for Android 15  When the screen is turned off with the new display power method introduced in Android 15, video mirroring freezes.  Use the Android 14 method for Android 15.  Refs 58ba00fa060c9a1f439120f8869ed106e1c935f9 Refs #5418 <https://github.com/Genymobile/scrcpy/pull/5418> Fixes #5530 <https://github.com/Genymobile/scrcpy/issues/5530>",5,1,6
Genymobile/scrcpy,3d5294c1e5819535dfa94bd399e53191283105cd,Romain Vimont,2024-11-24T20:36:28Z,"Set main display power for virtual display  Change the display power of the main display when mirroring a virtual display, to make it possible to turn off the screen.  Fixes #5522 <https://github.com/Genymobile/scrcpy/issues/5522> Refs #5530 <https://github.com/Genymobile/scrcpy/issues/5530>",11,6,17
Genymobile/scrcpy,1d2f16dbb53facdb2ea174578437a2a5afb6aede,Romain Vimont,2024-11-26T13:06:36Z,"Fix documentation about default mouse mode  When video playback is turned off, the default mouse mode has changed from ""uhid"" to ""disabled"" in 2c25fd7a8082307da19645a690c31403903fbb1e.  Update the documentation accordingly.  Refs #5410 <https://github.com/Genymobile/scrcpy/issues/5410> Refs #5542 <https://github.com/Genymobile/scrcpy/issues/5542>",10,4,14
Genymobile/scrcpy,7fef05197674aa82b7c81541411115704fc9599f,Romain Vimont,2024-11-25T19:06:32Z,Add BlueSky link  Scrcpy now has a BlueSky account.,1,0,1
Genymobile/scrcpy,da8ade88fd0b1c15c5ae07cd276b3cffa2e5382e,Wouter Schoot,2024-11-24T22:18:54Z,Fix link to virtual display doc in README  PR #5525 <https://github.com/Genymobile/scrcpy/pull/5525>  Signed-off-by: Romain Vimont <rom@rom1v.com>,1,1,2
Genymobile/scrcpy,74aecc00b512969fa3b067ed3cf20e12194206d2,Romain Vimont,2024-11-24T15:22:40Z,Update links to 3.0,56,18,74
Genymobile/scrcpy,5e05f2a25bfdc35840bef81583f02b0ba127b32b,Romain Vimont,2024-11-24T15:01:16Z,Bump version to 3.0,5,5,10
Genymobile/scrcpy,3d478d7d5b19839b10b581b14be0140793fcbeb0,Romain Vimont,2024-11-24T16:01:37Z,Build FFmpeg with v4l2 support for Linux  So that --v4l2-sink works with Linux static builds.,11,3,14
Genymobile/scrcpy,54e1f8e060ca77f9b5dac1a2f57ea7cdf0de83c3,Romain Vimont,2024-11-24T15:39:56Z,Include scrcpy manpage in Linux and macOS releases,2,0,2
Genymobile/scrcpy,d40224f299b29d614bbdb2ff0e160b6cccd9af03,Romain Vimont,2024-11-24T15:32:56Z,Fix alphabetic order of cli args,42,42,84
Genymobile/scrcpy,0628ffcb0bd09750577955a35a0449bb1025bc74,Romain Vimont,2024-11-24T15:01:05Z,Merge branch 'master' into release,4,4,8
Genymobile/scrcpy,6f9520f3e2f7df6061bfc06053d7d92aba9a24b8,Romain Vimont,2024-11-24T09:12:25Z,Test build_without_gradle.sh in GitHub Actions  Build the server without gradle to make sure that the script works.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,15,0,15
Genymobile/scrcpy,a7efb180b9befa576513c31e2db0340d0ee33aeb,Romain Vimont,2024-11-22T21:23:27Z,Add script to release macOS static binary  Provide a prebuilt binary for macOS.  Fixes #1733 <https://github.com/Genymobile/scrcpy/issues/1733> Fixes #3235 <https://github.com/Genymobile/scrcpy/issues/3235> Fixes #4489 <https://github.com/Genymobile/scrcpy/issues/4489> Fixes #5327 <https://github.com/Genymobile/scrcpy/issues/5327> PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>  Co-authored-by: Muvaffak Onus <me@muvaf.com>,144,0,144
Genymobile/scrcpy,28c372e8387c3473613e6653f58c934f81d8fb2f,Muvaffak Onus,2024-11-23T15:00:45Z,"Use generic command for SHA-256  The command sha256sum does not exist on macOS, but `shasum -a256` works both on Linux and macOS.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>  Co-authored-by: Romain Vimont <rom@rom1v.com> Signed-off-by: Romain Vimont <rom@rom1v.com>",1,1,2
Genymobile/scrcpy,cb19686d7950113039f4f478998df8d9ae7ed985,Romain Vimont,2024-11-22T20:41:56Z,Add script to release Linux static binary  Provide a prebuilt binary for Linux.  Fixes #5327 <https://github.com/Genymobile/scrcpy/issues/5327> PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,162,1,163
Genymobile/scrcpy,93da693e8c15fe2a1065c37636ab9fa945cb1254,Romain Vimont,2024-11-22T20:17:00Z,Add support for .tar.gz packaging  Make package_client.sh accept an archive format.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,29,9,38
Genymobile/scrcpy,179c664e2b78f7b1406dc1eed28031591c20934c,Romain Vimont,2024-11-21T22:28:33Z,Add static build option  Use static dependencies if the option is set.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,10,7,17
Genymobile/scrcpy,360936248c0fb59bdc211e298d1aaea49af5ee07,Romain Vimont,2024-11-21T22:16:18Z,"Add support for build and link types for deps  Make dependencies build scripts more flexible, to accept a build type (native or cross) and a link type (static or shared).  This lays the groundwork for building binaries for Linux and macOS.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>",144,60,204
Genymobile/scrcpy,98d2065d6d06d44b3c7af3d199e29cabc6f58b80,Romain Vimont,2024-11-22T21:17:41Z,Make the ADB dependency script Windows-specific  This will allow adding similar scripts for other platforms.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,7,7,14
Genymobile/scrcpy,6a81fc438b6457eaab6efe61c41c194791b9439f,Romain Vimont,2024-11-22T21:14:05Z,"Extract args processing in deps scripts  Extract the code that processes arguments into a function.  This will make it optional, so the script that only downloads the official ADB binaries will not use arguments.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>",25,19,44
Genymobile/scrcpy,cf0098abf0f4198e199f373f7831673f86be44c0,Romain Vimont,2024-11-21T21:44:12Z,Store dependencies configure args in bash arrays  This will make it easy to conditionally add items.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,57,48,105
Genymobile/scrcpy,73b595c806db12e78a5f37de2476309b56a0fac9,Romain Vimont,2024-11-22T21:09:06Z,"Disable VDPAU and VAAPI for FFmpeg build  They are not used, and this prevents Linux builds from working if the dependencies are unavailable.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>",2,0,2
Genymobile/scrcpy,d74f564f563f17a807106b4d2507a6cd4b6cbc3f,Romain Vimont,2024-11-22T21:08:18Z,"Reorder FFmpeg configure args  All --disable, then all --enable.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>",1,1,2
Genymobile/scrcpy,7fc694328483319105408e0bb767c6eb2341632b,Romain Vimont,2024-11-22T20:51:58Z,"Preserve file permissions in GitHub Actions  The upload-artifact action does not preserve file permissions: <https://github.com/actions/upload-artifact?#permission-loss>  Even if it is not critical for Windows releases, it will be for other platforms. Wrap everything in a tarball to keep original permissions.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>",32,4,36
Genymobile/scrcpy,a57180047c58b37ad135c6bd322b02d7122f6dd4,Romain Vimont,2024-11-22T20:43:57Z,Split packaging for each target on CI  Create separate jobs for packaging win32 and win64 releases.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,62,8,70
Genymobile/scrcpy,5df218d8f9419f555000fb21758bad46350064fb,Romain Vimont,2024-11-22T07:25:33Z,Test scrcpy-server in a separate CI job  Use a separate GitHub Action job to build and test the server.  PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>,15,1,16
Genymobile/scrcpy,26bf209617d9bf633307eaf9051c03fa0a9f631c,Romain Vimont,2024-11-22T07:25:15Z,"Replace release.mk by release scripts  Since commit 2687d202809dfaafe8f40f613aec131ad9501433, the Makefile named release.mk stopped handling dependencies between recipes, because they have to be executed separately (from different Github Actions jobs).  Using a Makefile no longer provides any real benefit. Replace it by several individual release scripts for simplicity and readability.  Refs #5306 <https://github.com/Genymobile/scrcpy/pull/5306> PR #5515 <https://github.com/Genymobile/scrcpy/pull/5515>",198,168,366
Genymobile/scrcpy,dc82425769ab0fce545a5c76658fc7ba774468ad,Enno Boland,2024-11-10T18:17:45Z,Add debugging method for Android >= 11  Fixes #5346 <https://github.com/Genymobile/scrcpy/issues/5346> PR #5466 <https://github.com/Genymobile/scrcpy/pull/5466>  Signed-off-by: Romain Vimont <rom@rom1v.com>,32,10,42
Genymobile/scrcpy,9f39a5f2d6b89b2f57bf003c81163affc3bf0c60,Romain Vimont,2024-11-17T13:42:02Z,"Determine debugger command at runtime  When server_debugger is enabled, retrieve the device SDK version to execute the correct command.  PR #5466 <https://github.com/Genymobile/scrcpy/pull/5466>",42,23,65
Genymobile/scrcpy,24588cb637496c04330bf12f6350a1369b08a718,Romain Vimont,2024-11-22T06:48:00Z,Add missing aidl in build_without_gradle.sh  Refs 39d51ff2cc2f3e201ad433d48372b548e5dd11d3 Fixes #5512 <https://github.com/Genymobile/scrcpy/issues/5512>,3,0,3
Genymobile/scrcpy,0e50d1e7dba940bdf3875bfa3855b4227f40a861,Romain Vimont,2024-11-22T06:45:04Z,Extract PLATFORM_TOOLS in build_without_gradle.sh  Refs #5512 <https://github.com/Genymobile/scrcpy/issues/5512>,2,1,3
Genymobile/scrcpy,264110fd70cbdc1350c08618d158d34bf4c55bbd,Romain Vimont,2024-11-20T12:01:57Z,"Dissociate virtual display size and capture size  Allow capturing virtual displays at a lower resolution using -m/--max-size.  In the original implementation in #5370, the virtual display size was necessarily the same as the capture size. The --max-size value was only allowed to determine the virtual display size when no explicit size was provided.  Since the dpi was scaled down accordingly, it is often better to create a virtual display at the target capture size directly. However, not everything is rendered according to the virtual display DPI. For example, a page in Firefox is rendered too big on small virtual displays. Thus, it makes sense to be able create a virtual display at a given size, and capture it at a lower resolution with --max-size. This is now possible using OpenGL filters.  Therefore, change the behavior of --max-size for virtual displays:  - --max-size does not impact --new-display without size argument    anymore (the virtual display size is the main display size);  - it is used to limit the capture size (whether an explicit size is    provided or not).  This new behavior is consistent with main display capture.  Refs #5370 comment <https://github.com/Genymobile/scrcpy/pull/5370#issuecomment-2438944401> Refs #5370 <https://github.com/Genymobile/scrcpy/pull/5370> PR #5506 <https://github.com/Genymobile/scrcpy/pull/5506>",35,24,59
Genymobile/scrcpy,4608a19a1313c3c2805ca05a3106798504ecb642,Romain Vimont,2024-11-20T07:14:04Z,"Upgrade platform-tools (35.0.2) for Windows  Since 35.0.1, the filename has changed on the server from -windows.zip to -win.zip  The links are referenced from this file: <https://dl.google.com/android/repository/repository2-2.xml>  Refs <https://www.reddit.com/r/Android/comments/1fhbs7w/download_links_to_platformtoolsadb/>",3,3,6
Genymobile/scrcpy,f1f27116269ecbe422fd853ec192e3a80e168f76,Gutem,2024-10-23T00:43:22Z,Document missing --cask option for macOS  Installing android-platform-tools via brew install requires the option --cask.  Refs #2004 <https://github.com/Genymobile/scrcpy/pull/2004> Refs #2231 <https://github.com/Genymobile/scrcpy/pull/2231> PR #5398 <https://github.com/Genymobile/scrcpy/pull/5398> Signed-off-by: Romain Vimont <rom@rom1v.com>,1,1,2
Genymobile/scrcpy,eeb04292a47f7ef7519b2eb9fd5c06a81bb69352,Romain Vimont,2024-11-20T06:57:35Z,Upgrade SDL (2.30.9) for Windows,2,2,4
Genymobile/scrcpy,2ec30bdf8038899b0b0c0fdb4924725561072c66,backryun,2024-10-01T19:17:09Z,Upgrade FFmpeg (7.1) for Windows  PR #5332 <https://github.com/Genymobile/scrcpy/pull/5332>  Signed-off-by: Romain Vimont <rom@rom1v.com>,2,2,4
Genymobile/scrcpy,145b823b1d029a34f640d5a3f231439e45b0eaf7,Romain Vimont,2024-11-16T21:45:38Z,Add --no-vd-system-decorations  Add an option to disable the following flag for virtual displays:      DisplayManager.VIRTUAL_DISPLAY_FLAG_SHOULD_SHOW_SYSTEM_DECORATIONS  Some devices render a broken UI when this flag is enabled.  Fixes #5494 <https://github.com/Genymobile/scrcpy/issues/5494>,46,2,48
Genymobile/scrcpy,28d64ef319337f2313d74be4d16653774ec8185e,Romain Vimont,2024-11-20T06:45:15Z,"Fix --new-display bash completion  The option --new-display accepts an optional argument, but bash must not try to auto-complete it with unrelated content.",1,0,1
Genymobile/scrcpy,36d61f9ecd853104ba838d8df18102c31320fd0c,Romain Vimont,2024-11-19T17:45:05Z,"Reference virtual display documentation  Reference the documentation about virtual displays from the ""Display"" section of video.md.",2,0,2
Genymobile/scrcpy,f95a5f97b1944b948a45218d349d2acf8e19ac3b,Romain Vimont,2024-11-19T17:30:19Z,"Document filter order  Matrix multiplication is not commutative, so the order of filters matters.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",17,8,25
Genymobile/scrcpy,adb674a5c890bf2553149059bfc22ba9df86a04b,Romain Vimont,2024-11-15T18:17:04Z,Add --angle  Add an option to rotate the video content by a custom angle.  Fixes #4135 <https://github.com/Genymobile/scrcpy/issues/4135> Fixes #4345 <https://github.com/Genymobile/scrcpy/issues/4345> Refs #4658 <https://github.com/Genymobile/scrcpy/pull/4658> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,62,0,62
Genymobile/scrcpy,d19045628e422d8e969a137580bb9e6496ec51fc,Romain Vimont,2024-11-15T17:51:40Z,Remove deprecated options  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,12,60,72
Genymobile/scrcpy,443f315f609b2bbd7d7c4f8e9ffc2b41bdc381f7,Romain Vimont,2024-11-15T17:46:08Z,"Use natural device orientation for --new-display  If no size is provided with --new-display, the main display size is used. But the actual size depended on the current device orientation.  To make it deterministic, use the size of the natural device orientation (portrait for phones, landscape for tablets).  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",3,0,3
Genymobile/scrcpy,090488081652593a795ea40697ce703bb5b2a59c,Romain Vimont,2024-11-16T21:16:17Z,"Log event size mismatch as verbose  On rotation, it is expected that many successive events are ignored due to size mismatch, when an event was generated from the mirroring window having the old size, but was received on the device with the new size (especially since mouse hover events are forwarded).  Do not flood the console with warnings.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",10,6,16
Genymobile/scrcpy,4348f12194b5e44e710e61786b452ebe4b9eb850,Romain Vimont,2024-11-15T17:41:04Z,Improve mismatching event size warning  Include both the event size and the current size in the warning message.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,12,3,15
Genymobile/scrcpy,371ff3122590f35996f904d99d02a58986a8c617,Romain Vimont,2024-11-14T22:54:20Z,Apply filters to virtual display capture  Apply crop and orientation to virtual display capture.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,60,19,79
Genymobile/scrcpy,456fa510f25039d6cd016eb9293a82be1f7a2653,Romain Vimont,2024-11-14T19:50:41Z,Apply filters to camera capture  Apply crop and orientation to camera capture.  Fixes #4426 <https://github.com/Genymobile/scrcpy/issues/4426> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,71,7,78
Genymobile/scrcpy,45382e3f017ea17925243b5cdcdeb3b1a5a44a37,Romain Vimont,2024-11-14T19:19:40Z,"Add --capture-orientation  Deprecate --lock-video-orientation in favor of a more general option --capture-orientation, which supports all possible orientations (0, 90, 180, 270, flip0, flip90, flip180, flip270), and a ""locked"" flag via a '@' prefix.  All the old ""locked video orientations"" are supported:  - --lock-video-orientation      ->  --capture-orientation=@  - --lock-video-orientation=0    ->  --capture-orientation=@0  - --lock-video-orientation=90   ->  --capture-orientation=@90  - --lock-video-orientation=180  ->  --capture-orientation=@180  - --lock-video-orientation=270  ->  --capture-orientation=@270  In addition, --capture-orientation can rotate/flip the display without locking, so that it follows the physical device rotation.  For example:      scrcpy --capture-orientation=flip90  always flips and rotates the capture by 90° clockwise.  The arguments are consistent with --display-orientation and --record-orientation and --orientation (which provide separate client-side orientation settings).  Refs #4011 <https://github.com/Genymobile/scrcpy/issues/4011> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",233,145,378
Genymobile/scrcpy,9b03bfc3ae881f639f9c4bb381eef7365b785437,Romain Vimont,2024-11-10T12:47:02Z,Handle virtual display rotation  Listen to display size changes and rotate the virtual display accordingly.  Note: use `git show -b` to Show this commit ignoring whitespace changes.  Fixes #5428 <https://github.com/Genymobile/scrcpy/issues/5428> Refs #5370 <https://github.com/Genymobile/scrcpy/pull/5370> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,59,14,73
Genymobile/scrcpy,39d51ff2cc2f3e201ad433d48372b548e5dd11d3,Anric,2024-11-17T13:43:32Z,"Use DisplayWindowListener for Android 14  On Android 14, DisplayListener may be broken (it never sends events). This is fixed in recent Android 14 upgrades, but we can't really detect it directly.  As a workaround, a RotationWatcher and DisplayFoldListener were registered as a fallback, until a first ""display changed"" event was triggered.  To simplify, on Android 14, register a DisplayWindowListener (introduced in Android 11) to listen to configuration changes instead.  Refs #5455 comment <https://github.com/Genymobile/scrcpy/pull/5455#issuecomment-2481302084> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>  Co-authored-by: Romain Vimont <rom@rom1v.com> Signed-off-by: Romain Vimont <rom@rom1v.com>",170,95,265
Genymobile/scrcpy,d72686c867dcde973f4666117128f2fc38888a1b,Romain Vimont,2024-11-16T20:47:07Z,"Extract display size monitor  Detecting display size changes is not straightforward:  - from a DisplayListener, ""display changed"" events are received, but    this does not imply that the size has changed (it must be checked);  - on Android 14 (see e26bdb07a21493d096ea5c8cfd870fc5a3f015dc),    ""display changed"" events are not received on some versions, so as a    fallback, a RotationWatcher and a DisplayFoldListener are registered,    but unregistered as soon as a ""display changed"" event is actually    received, which means that the problem is fixed.  Extract a ""display size monitor"" to share the code between screen capture and virtual display capture.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",193,142,335
Genymobile/scrcpy,06385ce83bcfd57ac82e2f5ca4d9575fe1f1649f,Romain Vimont,2024-11-10T15:21:59Z,Reimplement lock orientation using transforms  Reimplement the --lock-video-orientation feature using affine transforms.  Fixes #4011 <https://github.com/Genymobile/scrcpy/issues/4011> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,27,0,27
Genymobile/scrcpy,9fb0a3dac1770c51758f578bca0b8e349e164e84,Romain Vimont,2024-11-09T14:14:52Z,Reimplement crop using transforms  Reimplement the --crop feature using affine transforms.  Fixes #4162 <https://github.com/Genymobile/scrcpy/issues/4162> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,141,8,149
Genymobile/scrcpy,23960ca11ab676dc85f6c0f6e6f447efed92bba9,Romain Vimont,2024-11-10T10:40:31Z,"Ignore signalEndOfStream() error  This may be called at any time to interrupt the current encoding, including when MediaCodec is in an expected state.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",5,1,6
Genymobile/scrcpy,904f86152ea7693f481e29cdfd8327ac58eb8c34,Romain Vimont,2024-11-10T08:00:32Z,Move mediaCodec.stop() to finally block  This will allow stopping MediaCodec only after the cleanup of other components which must be performed beforehand.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,9,3,12
Genymobile/scrcpy,e226950cfab9b9e8f2fe8620dc9970bcf13133ee,Romain Vimont,2024-11-10T12:47:14Z,Make PositionMapper use affine transforms  This will allow applying transformations performed by video filters.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,14,9,23
Genymobile/scrcpy,019ce5eea4e8d0655ab481ab59ac498c3be51d0f,Romain Vimont,2024-11-10T09:04:01Z,Temporarily ignore lock video orientation and crop  Get rid of old code implementing --lock-video-orientation and --crop features on the device side.  They will be reimplemented differently.  Refs #4011 <https://github.com/Genymobile/scrcpy/issues/4011> Refs #4162 <https://github.com/Genymobile/scrcpy/issues/4162> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,19,169,188
Genymobile/scrcpy,d6033d28f5a326409218bab15acc432b305cb23f,Romain Vimont,2024-11-10T08:11:57Z,Split computeVideoSize() into limit() and round8()  Expose two methods on Size directly:  - limit() to downscale a size;  - round8() to round both dimensions to multiples of 8.  This will allow removing ScreenInfo completely.  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>,53,30,83
Genymobile/scrcpy,89518f49adb59dfa961f76be3f4414bffdc22cc5,Romain Vimont,2024-11-10T08:08:49Z,"Revert ""Disable broken options on Android 14""  This reverts commit d62fa8880e03e8823057a5d4d9659d5f19132806.  These options will be reimplemented differently.  Refs #4011 <https://github.com/Genymobile/scrcpy/issues/4011> Refs #4162 <https://github.com/Genymobile/scrcpy/issues/4162> PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",3,29,32
Genymobile/scrcpy,2a04858a2271fdb44a0eeaeeadaedfc966eab48d,Romain Vimont,2024-10-20T14:51:32Z,"Add on-device OpenGL video filter architecture  Introduce several key components to perform OpenGL filters:  - OpenGLRunner: a tool for running a filter to be rendered to a Surface    from an OpenGL-dedicated thread  - OpenGLFilter: a simple OpenGL filter API  - AffineOpenGLFilter: a generic OpenGL implementation to apply any 2D    affine transform  - AffineMatrix: an affine transform matrix, with helpers to build    matrices from semantic transformations (rotate, scale, translate…)  PR #5455 <https://github.com/Genymobile/scrcpy/pull/5455>",912,0,912
Genymobile/scrcpy,e411b74a16a12f95c52f0c7a4c9c4f0ab1a3bc8d,Matthias Stock,2024-11-18T17:10:17Z,Use explicit file protocol for AVIO  AVIO expects a `url` to locate a resource.  Use the file protocol to handle filenames containing colons.  Fixes #5487 <https://github.com/Genymobile/scrcpy/issues/5487> PR #5499 <https://github.com/Genymobile/scrcpy/pull/5499> Signed-off-by: Romain Vimont <rom@rom1v.com>,48,2,50
Genymobile/scrcpy,5694562a74e068df17193f25c9b1dbdd9342e0c0,Romain Vimont,2024-11-18T17:47:57Z,Remove duplicate log  The function prepareRetry() already logs a more detailed message:      Retrying with -mXXXX...,0,1,1
Genymobile/scrcpy,bd9d93194b04970655b22f1eb96d5ad2bd4f2c75,Romain Vimont,2024-11-14T19:25:12Z,"Pass Options instance directly  Many constructors take a lot of parameters copied from Options. For simplicity, just pass the Options instance.",45,42,87
Genymobile/scrcpy,794595e3f0db8208a2a1df30c1c5e9442deb4112,Romain Vimont,2024-11-14T19:20:10Z,"Set displayId to NONE in Options on new display  If a new display is set, force options.getDisplayId() to return Device.DISPLAY_ID_NONE, to avoid any confusion between a local displayId and options.getDisplayId().",16,12,28
Genymobile/scrcpy,5e10c37f02cb41054257dc895a5aae7d9df7dd89,Romain Vimont,2024-11-10T10:53:12Z,Define all DisplayManager flags locally  For consistency.,4,3,7
Genymobile/scrcpy,0e399b65bd2f32f93a0372ed0d64cdc2ba223d86,Romain Vimont,2024-11-10T16:03:39Z,Remove [] around app package names  This simplifies copy-pasting from the result of:      scrcpy --list-apps,1,1,2
Genymobile/scrcpy,2337f524d167e210a2985d691e5695e5b7e3249f,Romain Vimont,2024-11-10T18:17:04Z,"Improve error message on unknown camera id  If the camera id is explicitly provided (via --camera-id), report a user-friendly error if no camera with this id is found.",12,6,18
Genymobile/scrcpy,df74cceb6fe115bd39e862612a14a1e1483b1529,Romain Vimont,2024-11-10T17:46:51Z,Use camera prepare() step  For consistency with screen capture.  Refs b60e1747809cce58793a8c0d54b499df87a6a975,13,12,25
Genymobile/scrcpy,91373d906b100349de959f49172d4605f66f64b2,Simon Chan,2024-11-09T06:34:55Z,Add FakeContext.getContentResolver()  This avoids the following error on some devices:      Given calling package android does not match caller's uid 2000  Refs #4639 comment <https://github.com/Genymobile/scrcpy/issues/4639#issuecomment-2466081589> Fixes #4639 <https://github.com/Genymobile/scrcpy/issues/4639> PR #5476 <https://github.com/Genymobile/scrcpy/pull/5476>  Signed-off-by: Romain Vimont <rom@rom1v.com>,62,7,69
Genymobile/scrcpy,04dd72b5944dbe8de2a2fa438f920e88c03e4ff8,Romain Vimont,2024-11-13T11:56:35Z,"Add ""how to run"" link for Windows  Reference the documentation explaining how to run scrcpy on Windows directly in the main README.",1,1,2
Genymobile/scrcpy,762816cac62b39a58bebf129fb6e00bd24a4594b,Romain Vimont,2024-11-13T11:54:25Z,Remove quotes for --video-encoder in documentation  Refs ec602a0334357982d75b374f7ac753c5bef1216a,1,1,2
Genymobile/scrcpy,c0e2e27cf9eb38a95b324ba9aeeb34dab6d2e72f,Simon Chan,2024-11-11T04:16:18Z,Force javac to use UTF-8  The source files are encoded in UTF-8.  Refs <https://github.com/Genymobile/scrcpy/issues/4639#issuecomment-2467206100>  Signed-off-by: Romain Vimont <rom@rom1v.com>,1,1,2
Genymobile/scrcpy,eff5b4b219be6043a3baf51149b1d6752569a173,Romain Vimont,2024-11-03T21:46:21Z,"Add --screen-off-timeout  Change the Android ""screen off timeout"" (the idle delay before the screen automatically turns off) and restore the initial value on exit.  PR #5447 <https://github.com/Genymobile/scrcpy/pull/5447>",108,2,110
Genymobile/scrcpy,d3db9c40653d4c1eaafda1ece2abe57acad94906,Romain Vimont,2024-11-03T21:34:02Z,"Refactor clean up configuration to simplify  All options were configured dynamically by sending a single byte to an output stream. But in practice, only the power mode must be changed dynamically, the others are configured once on start.  For simplicity, pass the value of static options as command line arguments, and handle dynamic options in a loop only from a separate thread once the clean up process is started.  This will allow to easily add cleanup options with values which do not fit in 1 byte.  Also handle the clean up thread (and the loading of initial settings values) from the CleanUp class, to expose a simpler clean up API.  Refs 9efa162949c2a3e3e42564862ff390700270394d PR #5447 <https://github.com/Genymobile/scrcpy/pull/5447>",102,120,222
Genymobile/scrcpy,5936167ff77b543a533c7f6a5fa42d78ca5d724f,Romain Vimont,2024-11-04T22:17:43Z,"Store compensation state as a boolean  We don't need to store the last compensation value anymore, we just need to know if it's non-zero.",5,5,10
Genymobile/scrcpy,e9dd0f68adc59bae67f04bc859a8287785771ace,Romain Vimont,2024-11-04T22:06:19Z,"Fix audio regulator compensation  A call to swr_set_compensation() configures the resampler to drop or duplicate ""diff"" samples over an interval of ""distance"" samples.  If the function is not called again, then after ""distance"" samples, no more compensation will be applied. So it must always be called, even if the new computed diff value happens to be the same as the previous one.  In practice, it is unlikely that the diff value is exactly the same every second, except when it is actively clamped (to 2% of the sample rate).",6,8,14
Genymobile/scrcpy,104195fc3bdcd69481ede5ff2808be0a1f1d6e5e,Romain Vimont,2024-10-31T21:47:35Z,"Add shortcut to reset video capture/encoding  Reset video capture/encoding on MOD+Shift+r.  Like on device rotation, this starts a new encoding session which produces a video stream starting by a key frame.  PR #5432 <https://github.com/Genymobile/scrcpy/pull/5432>",106,8,114
Genymobile/scrcpy,9958302e6f8780c7aa547186c70b493137986701,Romain Vimont,2024-10-31T20:42:58Z,"Interrupt MediaCodec blocking call on reset  When the MediaCodec input is a Surface, no EOS (end-of-stream) will never occur automatically: it may only be triggered manually by MediaCodec.signalEndOfInputStream().  Use this signal to interrupt the blocking call to dequeueOutputBuffer() immediately on reset, without waiting for the next frame to be dequeued.  PR #5432 <https://github.com/Genymobile/scrcpy/pull/5432>",37,25,62
Genymobile/scrcpy,69b836930a1d33d2aeebd17eed67c264c084c37d,Romain Vimont,2024-10-31T19:43:13Z,"Handle capture reset via listener  When the capture source becomes ""invalid"" (because the display size changes for example), a reset request is performed to restart the encoder.  The reset state was stored in SurfaceCapture. The capture implementation set the flag, and the encoder consumed it.  However, this mechanism did not allow a reset request to _interrupt_ the encoder, which may be waiting on a blocking call (until a new frame is produced).  To be able to interrupt the encoder, a reset request must not only set a flag, but run a callback provided by the encoder. For that purpose, introduce the CaptureListener interface, which is notified by the SurfaceCapture implementation whenever the capture is invalidated.  For now, the listener implementation just set a flag as before, so the behavior is unchanged. It lays the groundwork for the next commits.  PR #5432 <https://github.com/Genymobile/scrcpy/pull/5432>",47,23,70
Genymobile/scrcpy,790ea5e58c97a8635ba0326b2b3268ef77bdaae0,Romain Vimont,2024-11-03T11:33:33Z,"Check screen on for current displayId  Since Android 14, the ""screen on"" state can be checked per-display.  Refs <https://android.googlesource.com/platform/frameworks/base.git/+/956f4084df825f3dcfc5583d6e6d1f593f770811%5E!/#F17> PR #5442 <https://github.com/Genymobile/scrcpy/pull/5442>",19,8,27
Genymobile/scrcpy,1270997f6beb9574dc0ce46e4961f031ca7fb7c5,Romain Vimont,2024-11-03T18:02:57Z,Remove useless assignment  The local variable virtualDisplayId was already initialized to the exact same value.,0,1,1
Genymobile/scrcpy,c905fbba8d383af3a128390a95f26f9ab986486e,Romain Vimont,2024-11-03T18:01:39Z,Fix indentation,2,2,4
Genymobile/scrcpy,f08a6d86c5d84aa48c1c197d8f92f322768515cb,Romain Vimont,2024-10-31T19:19:58Z,Power on the device only for main display  Power on the device on start only if scrcpy is mirroring the main display.,1,1,2
Genymobile/scrcpy,3ac4b64461716ff472e62ef13b0947dfff98cb2e,Romain Vimont,2024-11-02T17:40:23Z,"Register rotation watcher for non-main displays  While moving code, commit 874eaec487369f7fcaa9ed8c5f85569659565d4f added a condition `if (displayId == 0)` to register a rotation watcher, without good reasons.  This condition was kept when the rotation watcher was moved to a fallback in e26bdb07a21493d096ea5c8cfd870fc5a3f015dc.  Note: use `git show -b` to show this commit ignoring whitespace changes.  Refs #5428 <https://github.com/Genymobile/scrcpy/issues/5428>",9,11,20
Genymobile/scrcpy,c7378f4dc843d24699349812661867c07af3954d,Romain Vimont,2024-10-31T19:23:11Z,Extract setting display power to a separate method  For consistency with the other actions.,13,10,23
Genymobile/scrcpy,e26bdb07a21493d096ea5c8cfd870fc5a3f015dc,Romain Vimont,2024-10-21T16:25:08Z,"Listen to display changed events  Replace RotationWatcher and DisplayFoldListener by a single DisplayListener, which is notified whenever the display size or dpi changes.  However, the DisplayListener mechanism is broken in the first versions of Android 14 (it is fixed in android-14.0.0_r29 by commit [1]), so continue to use the old mechanism specifically for Android 14 (where DisplayListener may be broken), until we receive the first ""display changed"" event (which proves that it works).  [1]: <https://android.googlesource.com/platform/frameworks/base.git/+/5653c6b5875df599307c3e6bfae32fb2fc17ca1f%5E%21/>  Fixes #161 <https://github.com/Genymobile/scrcpy/issues/161> Fixes #1918 <https://github.com/Genymobile/scrcpy/issues/1918> Fixes #4152 <https://github.com/Genymobile/scrcpy/issues/4152> Fixes #5362 comment <https://github.com/Genymobile/scrcpy/issues/5362#issuecomment-2416219316> Refs #4469 <https://github.com/Genymobile/scrcpy/pull/4469> PR #5415 <https://github.com/Genymobile/scrcpy/pull/5415>  Co-authored-by: Simon Chan <1330321+yume-chan@users.noreply.github.com>",203,32,235
Genymobile/scrcpy,04a3e6fb06377fc75eef805147e55f93877b3e86,Romain Vimont,2024-10-28T17:30:52Z,"Consume reset request on encoding start  If a reset request is pending when a new encoding starts, then it is implicitly fulfilled.  PR #5415 <https://github.com/Genymobile/scrcpy/pull/5415>",1,0,1
Genymobile/scrcpy,c29ecd0314352661e826d8474b5d275d5ac660f2,Romain Vimont,2024-10-29T18:09:01Z,"Rename --display-buffer to --video-buffer  For consistency with --audio-buffer, rename --display-buffer to --video-buffer.  Fixes #5403 <https://github.com/Genymobile/scrcpy/issues/5403> PR #5420 <https://github.com/Genymobile/scrcpy/pull/5420>",44,30,74
Genymobile/scrcpy,d62fa8880e03e8823057a5d4d9659d5f19132806,Romain Vimont,2024-10-28T22:31:27Z,"Disable broken options on Android 14  The options --lock-video-orientation and --crop are broken since Android 14. Hopefully, they will be reimplemented differently.  Meanwhile, when running Android >= 14, fail with an error to prevent incorrect behavior.  Refs #4011 <https://github.com/Genymobile/scrcpy/issues/4011> Refs #4162 <https://github.com/Genymobile/scrcpy/issues/4162> PR #5417 <https://github.com/Genymobile/scrcpy/pull/5417>",30,3,33
Genymobile/scrcpy,1f6634ea87b36c2c6fe08af90b983c69294ee74d,Romain Vimont,2024-10-30T21:23:53Z,Document adb shell settings commands  Some scrcpy features change Android settings with `adb shell settings`. Document the commands to execute manually.,34,0,34
Genymobile/scrcpy,58ba00fa060c9a1f439120f8869ed106e1c935f9,Romain Vimont,2024-10-28T23:45:26Z,"Adapt ""turn screen off"" for Android 15  Android 15 introduced an easy way to set the display power: <https://android.googlesource.com/platform/frameworks/base.git/+/fd8b5efc7fcd8cec1ea5dc4ccc6bc87d12db3875%5E!/#F17>  Refs #3927 <https://github.com/Genymobile/scrcpy/issues/3927> Refs <https://issuetracker.google.com/issues/303565669> PR #5418 <https://github.com/Genymobile/scrcpy/pull/5418>",34,7,41
Genymobile/scrcpy,569c37cec159a67593b01c52aaa4cb92d1826bab,Romain Vimont,2024-10-28T23:41:02Z,"Disable display power for virtual displays  If displayId == Device.DISPLAY_ID_NONE, then the display is virtual: its power mode cannot be changed.  PR #5418 <https://github.com/Genymobile/scrcpy/pull/5418>",6,6,12
Genymobile/scrcpy,58a0fbbf2e0c7912ad487196c2f46ca6c0bd79cd,Romain Vimont,2024-10-28T22:56:17Z,"Refactor display power mode  Accept a single boolean ""on"" rather than a ""mode"" (which, in practice, could only take 2 values: NORMAL and OFF).  Also rename ""screen power mode"" to ""display power"".  PR #5418 <https://github.com/Genymobile/scrcpy/pull/5418>",71,93,164
Genymobile/scrcpy,acff5b005ce9f2efae80adad09d2e77ba3052460,Romain Vimont,2024-10-24T21:50:54Z,"Add more details to --list-encoders output  Add more information about each codec (hw/sw, vendor, alias).  Before:      [server] INFO: List of video encoders:         --video-codec=h264 --video-encoder=c2.exynos.h264.encoder         --video-codec=h264 --video-encoder=c2.android.avc.encoder         --video-codec=h264 --video-encoder=OMX.google.h264.encoder         --video-codec=h265 --video-encoder=c2.exynos.hevc.encoder         --video-codec=h265 --video-encoder=c2.android.hevc.encoder         --video-codec=av1 --video-encoder=c2.google.av1.encoder         --video-codec=av1 --video-encoder=c2.android.av1.encoder     // audio encoders omitted  After:      [server] INFO: List of video encoders:         --video-codec=h264 --video-encoder=c2.exynos.h264.encoder         (hw) [vendor]         --video-codec=h264 --video-encoder=c2.android.avc.encoder         (sw)         --video-codec=h264 --video-encoder=OMX.google.h264.encoder        (sw) (alias for c2.android.avc.encoder)         --video-codec=h265 --video-encoder=c2.exynos.hevc.encoder         (hw) [vendor]         --video-codec=h265 --video-encoder=c2.android.hevc.encoder        (sw)         --video-codec=av1 --video-encoder=c2.google.av1.encoder           (hw) [vendor]         --video-codec=av1 --video-encoder=c2.android.av1.encoder          (sw)     // audio encoders omitted  PR #5416 <https://github.com/Genymobile/scrcpy/pull/5416>",31,0,31
Genymobile/scrcpy,5474ae6bd62f65e6aa25a8685a7e5db9571390ac,Romain Vimont,2024-10-24T21:50:54Z,Factorize codec info listing  Make the listing of video and audio encoders share the same code.  PR #5416 <https://github.com/Genymobile/scrcpy/pull/5416>,19,64,83
Genymobile/scrcpy,2c25fd7a8082307da19645a690c31403903fbb1e,Romain Vimont,2024-10-29T17:59:29Z,"Disable mouse by default if no video playback  If video playback is disabled, then SDK mouse (which uses absolute positions) could not be used, so the default mouse mode was automatically switched to UHID.  But UHID does not work on all devices, so it could make the whole scrcpy session fail.  Instead, disable the mouse by default. It is still possible to pass -M or --mouse=uhid to enable it explicitly.  Fixes #5410 <https://github.com/Genymobile/scrcpy/issues/5410>",2,2,4
Genymobile/scrcpy,ce21f515e318474ca979a38a05814fc748c2bc85,Romain Vimont,2024-10-29T17:58:54Z,Remove unnecessary '\n' in log,1,1,2
Genymobile/scrcpy,381fe95867fb51cfd463f798e2ddbc122e4884b3,Romain Vimont,2024-10-23T16:52:35Z,"Document virtual display and ""start app"" features  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",79,0,79
Genymobile/scrcpy,566b5be0f69dae6b98f5df849a75d709ef3bd1c2,Romain Vimont,2024-10-20T13:49:25Z,"Add option to start an app by its name  By adding the '?' prefix, the app is searched by its name instead of its package name (retrieving app names on the device may take some time):      scrcpy --start-app=?firefox  An app matches if its label starts with the given name, case-insensitive.  If '+' is also passed to force-stop the app before starting, then the prefixes must be in that order:      scrcpy --start-app=+?firefox  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",60,5,65
Genymobile/scrcpy,dd20efa41cd7d1f2220e38a45e0d7413d19f5c09,Romain Vimont,2024-10-19T17:01:54Z,"Add option to force-stop app before starting  The previous commit introduced:      scrcpy --start-app=name  By adding a '+' prefix, the app is stopped beforehand:      scrcpy --start-app=+name  This may be useful to start a fresh app on a new virtual display:      scrcpy --new-display --start-app=+org.mozilla.firefox  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",17,3,20
Genymobile/scrcpy,13ce277e1f1eec6312350c5a3a3ac3be7b9be6e1,Romain Vimont,2024-10-19T16:19:10Z,Add --start-app  Add a command line option --start-app=name to start an Android app by its package name. For example:      scrcpy --start-app=org.mozilla.firefox  The app will be started on the correct target display:      scrcpy --new-display=1920x1080 --start-app=org.videolan.vlc  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>  Co-authored-by: Simon Chan <1330321+yume-chan@users.noreply.github.com>,227,9,236
Genymobile/scrcpy,9c9d92fb1c75dcf7631ef1408dfdce7a01c29db4,Romain Vimont,2024-10-19T15:16:08Z,Add --list-apps  Add an option to list all apps installed on the device:      scrcpy --list-apps  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,154,1,155
Genymobile/scrcpy,408a388fc5115483248c3444062d52565fd1f906,Romain Vimont,2024-10-12T07:23:31Z,Reject --new-display for Android <= 10  Fail explicitly if a new virtual display is requested on an Android version lower than 10.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,5,0,5
Genymobile/scrcpy,98ed5eb643553b6886babfd083931bef4fb4a5b8,Romain Vimont,2024-10-12T07:23:31Z,Add virtual display feature  Add a feature to create a new (separate) virtual display instead of mirroring the device screen:      scrcpy --new-display=1920x1080     scrcpy --new-display=1920x1080/420  # force 420 dpi     scrcpy --new-display         # use the main display size and density     scrcpy --new-display -m1920  # scaled to fit a max size of 1920     scrcpy --new-display=/240    # use the main display size and 240 dpi  Fixes #1887 <https://github.com/Genymobile/scrcpy/issues/1887> PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>  Co-authored-by: Simon Chan <1330321+yume-chan@users.noreply.github.com> Co-authored-by: anirudhb <anirudhb@users.noreply.github.com>,353,12,365
Genymobile/scrcpy,5d0e012a4c198633df8c578e626e2160d148d3d6,Romain Vimont,2024-10-12T07:23:31Z,Add DPI to DisplayInfo  It will be useful to automatically set an appropriate DPI for new virtual displays.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,13,5,18
Genymobile/scrcpy,d19396718ee0c0ba7fb578f595a6553c0458da59,Romain Vimont,2024-10-12T07:23:31Z,"Inject display-related events to virtual display  Mouse and touch events must be sent to the virtual display id (used for mirroring), other events (like key events) must be sent to the original display id.  Fixes #4598 <https://github.com/Genymobile/scrcpy/issues/4598> Fixes #5137 <https://github.com/Genymobile/scrcpy/issues/5137> PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>  Co-authored-by: nightmare <mengyanshou@gmail.com>",56,31,87
Genymobile/scrcpy,7024d38199206e1a4e7c02e2c9016e856de4a3c0,Romain Vimont,2024-10-12T07:23:31Z,"Send PositionMapper to Controller directly  When a new capture starts, send a new PositionMapper to the Controller without using the global Device as an intermediate.  Now all Device methods are static.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",45,38,83
Genymobile/scrcpy,f1368d9a8f936ab47d51de5af30c7e64bf5285bc,Romain Vimont,2024-10-12T07:23:31Z,Introduce PositionMapper  Extract the function that converts coordinates from video space to display space into a separate component.  It only requires the specific data it uses and does not need a full ScreenInfo object (although it can be created from a ScreenInfo instance).  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,58,26,84
Genymobile/scrcpy,d9164295666ef9a27b45eecc8608ca1fc0e0fbd8,Romain Vimont,2024-10-12T07:23:31Z,Move clipboard management to Controller  Continue to declutter the global Device.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,34,58,92
Genymobile/scrcpy,7cfefae5e110f32940f6ad35dbd45813d066f735,Romain Vimont,2024-10-12T07:23:31Z,"Move implicit displayId to Controller  Remove from Device the functions using an implicit displayId.  Move them to Controller, which knows best which displayId it must use.  This will allow to properly dispatch events either to the origin display or to the virtual display created for mirroring.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",48,56,104
Genymobile/scrcpy,b60e1747809cce58793a8c0d54b499df87a6a975,Romain Vimont,2024-10-12T07:23:31Z,Add capture prepare() step  Add a function called before each capture starts (before getSize() is called).  This allows to compute the ScreenInfo instance once exactly when needed.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,28,64,92
Genymobile/scrcpy,5851b6258037d2b2c7d763fac17d33d131eb8922,Romain Vimont,2024-10-12T07:23:31Z,Simplify virtual display video size  Do not use an unnecessary intermediate Rect object.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,2,2,4
Genymobile/scrcpy,12d5ca4d5ee870ed6112b5fa396924a090b206b2,Romain Vimont,2024-10-12T07:23:31Z,Move local variables in ScreenCapture  Do not initialize variables when they are not used.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,7,6,13
Genymobile/scrcpy,68e54d9b0b393b53539218679b21a105fba4ef8f,Romain Vimont,2024-10-12T07:23:31Z,Refactor to call getSize() only once  Avoid to call capture.getSize() (provided by the SurfaceCapture implementation) twice.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>,6,2,8
Genymobile/scrcpy,5f0480c0398bb3370d3a68182a0a4f950c56d824,Romain Vimont,2024-10-12T07:23:31Z,"Ignore first displayFoldChanged event  An event is posted on registration to signal the initial state.  This had no impact when the listener was registered from Device (before it was moved to ScreenCapture), because this first initial event was already triggered when ScreenCapture started listening.  But now, it causes the first encoding to be reset immediately. To avoid that, ignore the first event.  Refs <https://android.googlesource.com/platform/frameworks/base.git/+/refs/tags/android-15.0.0_r3/services/core/java/com/android/server/policy/DisplayFoldController.java#138> PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",9,0,9
Genymobile/scrcpy,874eaec487369f7fcaa9ed8c5f85569659565d4f,Romain Vimont,2024-10-12T07:23:31Z,"Move screen-related features out of Device.java  Move the code related to screen size and rotation/fold to ScreenCapture.  For now, keep the ScreenInfo instance in the Device class to communicate with the Controller, but it will be removed by further commits.  PR #5370 <https://github.com/Genymobile/scrcpy/pull/5370>",135,141,276
Genymobile/scrcpy,14e5439dee5486f870bda95add4102eaba39971c,Romain Vimont,2024-10-28T13:52:05Z,"Update mouse documentation about capture key  The mouse capture keys are not hardcoded anymore, they use the configured shortcut modifiers.  Refs ff9fb5994dbe555be8835a5f8d06b03e9f3b1b27",3,3,6
Genymobile/scrcpy,a5844e198e9bc53653c8658d53b7b9df4e122cc0,Romain Vimont,2024-09-18T21:58:42Z,Add GitHub Actions release workflow  Fixes #4490 <https://github.com/Genymobile/scrcpy/issues/4490> PR #5306 <https://github.com/Genymobile/scrcpy/pull/5306>,147,0,147
Genymobile/scrcpy,2687d202809dfaafe8f40f613aec131ad9501433,Romain Vimont,2024-09-18T21:51:52Z,"Rework release.mk for CI  Make it possible to build scrcpy-server and Windows binaries in parallel from different GitHub Actions workflows, and to package everything as a final step.  PR #5306 <https://github.com/Genymobile/scrcpy/pull/5306>",47,42,89
Genymobile/scrcpy,9c0a32849897d98e17bf0f8d7603454e558746cd,Romain Vimont,2024-09-18T21:40:27Z,Build server without meson in release.mk  This avoids to install meson/ninja to build scrcpy-server on the CI.  PR #5306 <https://github.com/Genymobile/scrcpy/pull/5306>,4,3,7
Genymobile/scrcpy,02ef3d57ce9542493ea7efb4ace66c4300d472fb,Romain Vimont,2024-09-18T21:39:45Z,Split client and server tests in release.mk  This will allow to run server tests separately on the CI.  PR #5306 <https://github.com/Genymobile/scrcpy/pull/5306>,6,2,8
Genymobile/scrcpy,538a32a53973d5ab1e393a36286de094a97aaf9a,Romain Vimont,2024-09-18T20:32:28Z,Fix .PHONY in release.mk  The prepare-deps recipe does not exist anymore. It has been split into prepare-deps-win32 and prepare-deps-win64.  PR #5306 <https://github.com/Genymobile/scrcpy/pull/5306>,1,1,2
Genymobile/scrcpy,67d4dfb5ffcfeaddf3363e73fdf3b2c500fd5842,Anwar Fuadi,2024-07-28T07:24:51Z,Add missing client build dependency in Fedora  PR #5147 <https://github.com/Genymobile/scrcpy/pull/5147>  Signed-off-by: Romain Vimont <rom@rom1v.com>,1,1,2
Genymobile/scrcpy,9578aae34eca49f448d0312838c2b4011e977810,Romain Vimont,2024-10-22T17:47:56Z,Use explicit constant for @TargetApi,2,1,3
Genymobile/scrcpy,7b3dd595b493449b4e93281205c375b1472d3b87,Romain Vimont,2024-10-20T20:53:32Z,"Remove useless version check  Scrcpy requires Android 5.0+, so there is no point testing for older versions.  Btw, there were two mistakes:  - the constant name in AndroidVersions should have been    API_20_ANDROID_4_4W (Android 4.4 without 'W' is API 19)  - the method isInteractive() was introduced in Android 5.0, not 4.4W:    <https://android.googlesource.com/platform/frameworks/base.git/+/037c33eae74bee2774897d969d48947f9abe254f%5E%21/>",1,7,8
Genymobile/scrcpy,a46150f753c47d0fb180040448629d229ae74581,Romain Vimont,2024-10-20T13:06:54Z,"Upgrade Android SDK to 35  Also adapt the call to build-tools/35.0.0/aidl, which now requires an import path (-I. for the current directory).  Otherwise, it fails with:      ERROR: android/view/IRotationWatcher.aidl:23.1-10: directory ./ is not found in any of the import paths:      -  Also upgrade AGP (8.7.1) and Gradle (8.9), required for SDK 35.  <https://developer.android.com/build/releases/gradle-plugin#updating-gradle>",12,9,21
Genymobile/scrcpy,3acffaae57238ee47e05f97f8e762a04550fdad8,Romain Vimont,2024-10-20T11:01:52Z,Use explicit constants for Android versions  Who remembers code names? This avoids to check the mapping every time.,108,62,170
Genymobile/scrcpy,e33be3d288fb6ec764a07c56eb4299b44c4793ac,dillonfrederica,2024-10-12T10:12:46Z,"Fix SDL_events.h include  All SDL includes must be prefixed by ""SDL2/"".  Fixed #5372 <https://github.com/Genymobile/scrcpy/issues/5372>  Signed-off-by: Romain Vimont <rom@rom1v.com>",1,1,2
Genymobile/scrcpy,c15df01171793dca7074a012f4703a185d99169d,Romain Vimont,2024-10-11T20:51:15Z,Reject non-positive camera sizes early  Throw an exception on parsing if the camera size dimensions are not both positive.,3,0,3
Genymobile/scrcpy,09741bc8051fc0d131c00690088390b8b36dd672,Romain Vimont,2024-10-11T20:42:39Z,"Do not duplicate server string params  The server params were passed from the main thread to the server thread, so a deep copy was performed in case the caller instance was destroyed.  But in practice, it only contains memory that lives until the end of the program (command line arguments), so simply reference it. Several copies of string fields were missing anyway.",4,60,64
Genymobile/scrcpy,afbaf59abba79a79ab6f4c659ff3d832e02a8e7f,Romain Vimont,2024-10-08T16:18:05Z,"Cast to sc_tick type in conversion macros  With the old macros definitions, the type of the result depended on the type of `sec`.  In particular, if sec is a 32-bit type, sec * 1000000 was likely to overflow (even if the result was assigned to a sc_tick by the caller of the macro).  This was the case on Windows, where the long type is a 32-bit signed integer: the --time-limit argument, expressed in seconds, was first parsed to a long value, then multiplied by 1000000 by the SC_TICK_FROM_SEC() macro, causing an overflow when the value was greater than 2147 (2^31 / 1000000).  Fixes #5355 <https://github.com/Genymobile/scrcpy/issues/5355>",8,8,16
Genymobile/scrcpy,5b10650f22b218b2fb42415aefe4bd6fec6c7e9e,Romain Vimont,2024-10-08T16:12:55Z,"Fix time-limit early interruption  If a value for --time-limit was set, then the thread was not interrupted on stop (the condvar was not signaled).",1,0,1
Genymobile/scrcpy,0d8014be5260b64daf3d7b3516d37a0dfafca7e1,Yan,2024-10-07T14:43:01Z,Fix build error on macOS  Fix window access typo for macOS.  PR #5348 <https://github.com/Genymobile/scrcpy/pull/5348>  Signed-off-by: Romain Vimont <rom@rom1v.com>,2,2,4
Genymobile/scrcpy,064670ab4c7d740ba6a02a1242d24edd267d2b76,Romain Vimont,2024-09-29T15:20:35Z,Add missing include common.h,2,0,2
Genymobile/scrcpy,ff9fb5994dbe555be8835a5f8d06b03e9f3b1b27,Romain Vimont,2024-09-27T16:32:39Z,"Use shortcut mods as mouse capture keys  Instead of using separate hardcoded keys for mouse capture/uncapture, use the shortcut mods.  By changing the shortcut mods (for example --shortcut-mod=rctrl), it allows to forward Alt and Super to the device.  Fixes #5318 <https://github.com/Genymobile/scrcpy/issues/5318> PR #5322 <https://github.com/Genymobile/scrcpy/pull/5322>",16,8,24
Genymobile/scrcpy,a36de26969791d054cfd3729e1c29923fec61b32,Romain Vimont,2024-09-27T16:24:21Z,"Move shortcut mod functions to a separate header  This will allow to reuse it for mouse capture keys, which are handled by a component separate from the input manager.  PR #5322 <https://github.com/Genymobile/scrcpy/pull/5322>",67,49,116
Genymobile/scrcpy,281fcc705254653edc4b418ab68951c6fd069622,Romain Vimont,2024-09-25T20:50:44Z,Extract mouse capture  Factorize mouse capture for relative mouse mode to reduce code duplication between normal and OTG modes.  PR #5322 <https://github.com/Genymobile/scrcpy/pull/5322>,183,210,393
Genymobile/scrcpy,65fc53eace19392426631ba2f5bcbd9aec88d796,Romain Vimont,2024-09-25T20:39:22Z,Simplify (and inline) is_shortcut_mod()  Masking was unnecessary (im->sdl_shortcut_mods is implicitly masked).  PR #5322 <https://github.com/Genymobile/scrcpy/pull/5322>,3,3,6
Genymobile/scrcpy,a6f74d72f52c96fa20ccd49e216383321e4a9efa,Romain Vimont,2024-09-25T20:26:07Z,"Forward Alt and Super with SDK keyboard  Alt and Super (also named Meta) modifier keys are captured for shortcuts by default (cf --shortcut-mod).  However, when shortcut modifiers are changed, Alt and Super should be forwarded to the device. This is the case for AOA and UHID keyboards, but it was not the case for SDK keyboard.  Fixes #5318 <https://github.com/Genymobile/scrcpy/issues/5318> PR #5322 <https://github.com/Genymobile/scrcpy/pull/5322>",5,5,10
Genymobile/scrcpy,e724ff43490661d9b1c7f92632303a4f08768f03,Romain Vimont,2024-10-01T20:50:34Z,Simplify IO.writeFully() for Android >= 6  Do not handle buffer properties manually for Android >= 6 (where it is already handled by Os.write()).  Refs <https://android.googlesource.com/platform/libcore/+/d9f7e57f5d09b587d8c8d1bd42b895f7de8fbf54%5E%21/>,20,13,33
Genymobile/scrcpy,79014143b9cc958ed4b36b8e9a49676243ca68b7,Romain Vimont,2024-10-01T20:49:55Z,"Fix IO.writeFully() on Android 5  Os.write() did not update the ByteBuffer position before Android 6.  A workaround was added by commit b882322f7371b16acd53677c4a3adbaaed0aef77, which fixed part of the problem, but the position was still not updated across calls, causing the wrong chunk to be written.  Refs <https://android.googlesource.com/platform/libcore/+/d9f7e57f5d09b587d8c8d1bd42b895f7de8fbf54%5E%21/>",4,1,5
Genymobile/scrcpy,c0a6432967c54d739cb0f01e87c834c3927f84f2,Romain Vimont,2024-10-01T20:39:06Z,"Extract EINTR handling for Os.write()  Expose a function which retries automatically on EINTR, and throws an IOException on other errors.",17,11,28
Genymobile/scrcpy,ec602a0334357982d75b374f7ac753c5bef1216a,Romain Vimont,2024-09-30T06:12:08Z,"Suggest command line arguments without quotes  Replace argument suggestion:      --video-encoder='c2.android.avc.encoder'  by:      --video-encoder=c2.android.avc.encoder  On Linux, the quotes are interpreted by the shell, but on Windows they are passed as is.  This was harmless, because even transmitted as is, they were interpreted by the shell on the device. However, special characters are now validated since commit bec3321fff4c6dc3b3dbc61fdc6fd98913988a78, making the command fail.  Fixes #5329 <https://github.com/Genymobile/scrcpy/issues/5329>",2,2,4
Genymobile/scrcpy,7a9ea5c66fedbb5b3b1d02f51695aa4ab259dfe3,Romain Vimont,2024-09-25T19:38:09Z,Add shortcut for horizontal tilt  Use Ctrl+Shift for horizontal tilt.  Refs #4529 comment <https://github.com/Genymobile/scrcpy/pull/4529#issuecomment-1855397118> Fixes #5317 <https://github.com/Genymobile/scrcpy/issues/5317>,34,9,43
Genymobile/scrcpy,d92b7a60243f1e08141d8d9bfbc94dadd1b19ac8,Romain Vimont,2024-09-25T17:59:49Z,Rename switch_fullscreen() to toggle_fullscreen()  Toggle means to switch between two states.,5,5,10
Genymobile/scrcpy,0bb3955b958752e1ec220a1045e5185c027fc56b,Romain Vimont,2024-09-23T21:58:02Z,"Split audio player  The audio player had 2 roles:  - handle the SDL audio output device;  - resample input samples to maintain a target latency.  Extract the latter to a separate component (an ""audio regulator""), independent of SDL.",507,440,947
Genymobile/scrcpy,62776fb2617a3c23190d3549b673c44b65fe12ce,Romain Vimont,2024-09-23T21:16:05Z,"Make audio buffering independant of output buffer  This will allow to extract the ""audio regulator"" part from the audio player.",4,6,10
Genymobile/scrcpy,10f60054aca70047c128fc801d103dac4d5d7896,Romain Vimont,2024-09-23T21:11:03Z,Use exact-width integer types,5,5,10
Genymobile/scrcpy,42fb947780e1054a72de7b4baf02f1a73beda3c6,Romain Vimont,2024-09-23T20:39:45Z,"Use local mutex for audio player  Replace SDL_LockAudioDevice() by a local mutex, to minimize the lock section and to make the code independent of SDL.",23,8,31
Genymobile/scrcpy,2e7a15a9987615b10460e7717f3a0dd31774936e,Romain Vimont,2024-09-23T20:32:02Z,Remove unused audio player fields  They are only used locally.,1,7,8
Genymobile/scrcpy,a7e61fb8712316e0375bf156f3243d7ced333e10,Romain Vimont,2024-09-23T20:28:04Z,Remove unused audio player callbacks  The callbacks were never used: the player can report errors directly from sc_audio_player_frame_sink_push().,0,7,7
Genymobile/scrcpy,0cc6f6aa09f0fe5913ec66276e7ea3681fa81cd7,Romain Vimont,2024-09-20T06:17:48Z,Detect codec/encoder mismatch  Fail with an explicit error when the requested encoder does not match the requested codec.  Refs #5066 <https://github.com/Genymobile/scrcpy/issues/5066>,21,2,23
Genymobile/scrcpy,f69ac405340efb0b53849b96a32f389cf1c1d54e,Romain Vimont,2024-09-20T06:43:42Z,Reorganize server imports  Moving classes into subpackages changed the expected imports order.  Reorganize them all at once automatically to avoid spurious changes in future commits.,13,13,26
Genymobile/scrcpy,665ccb32f5306ebd866dc0d99f4d08ed2aeb91c3,Romain Vimont,2024-09-15T19:15:26Z,Update links to 2.7,12,12,24
Genymobile/scrcpy,292adf294dd654e79b42215fb6bc2c6d2d44165b,Romain Vimont,2024-09-15T16:59:27Z,Bump version to 2.7,5,5,10
Genymobile/scrcpy,f9f3bfabe3904f83d4c5e22b85ccddb5ad8eab0e,Romain Vimont,2024-09-15T16:59:16Z,Merge branch 'master' into release,0,0,0
Genymobile/scrcpy,6d23a389cab2d8678627d6743223506095729ff2,Romain Vimont,2024-09-15T16:54:37Z,Upgrade FFmpeg (7.0.2) for Windows,2,2,4
Genymobile/scrcpy,337901368e7bd143c68052d4a92e809fecdfe5a7,Romain Vimont,2024-09-15T12:40:52Z,Upgrade SDL (2.30.7) for Windows,2,2,4
Genymobile/scrcpy,4cc4abdcc8b3f0d76a362f450db4cefe96edca5d,Romain Vimont,2024-09-15T16:35:22Z,Mention issue with AOA and multiple gamepads  Android does not support multiple HID gamepads properly over AOA.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>,3,0,3
Genymobile/scrcpy,befc0fac5b0f3c819ba798fc979f1a946a21976c,Romain Vimont,2024-09-15T16:32:10Z,Mention UHID permission errors  UHID may not work on old Android versions due to permission errors.  Mention it in UHID mouse and gamepad documentation (it was already mentioned for UHID keyboard).  Refs #4473 comment <https://github.com/Genymobile/scrcpy/pull/4473#issuecomment-1975133226> PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>,4,0,4
Genymobile/scrcpy,f01a622eadebb66e2fe0da22e24e71679e20bcb5,Romain Vimont,2024-09-10T07:16:05Z,"Enable joystick events in background  Capture the gamepads even when the window is not focused.  Note: In theory, with this flag set, we could capture gamepad events even without a window (--no-window). In practice, scrcpy still requires a window, because --no-window implies --no-control, and the input manager is owned by the sc_screen instance, which does not exist if there is no window. Supporting this use case would require a lot of refactors.  Refs <https://github.com/Genymobile/scrcpy/pull/5270#issuecomment-2339360460> PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>  Suggested-by: Luiz Henrique Laurini <luizhenriquelaurini@gmail.com>",8,0,8
Genymobile/scrcpy,0ba430a462f778d1dc9de1a82b527f1570cc8cf3,Romain Vimont,2024-09-09T16:25:50Z,Add gamepad user documentation  Mainly copied and adapted from HID keyboard and mouse documentation.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>,80,9,89
Genymobile/scrcpy,91d40c75483592eae78c5702c4e7278370cd06c6,Romain Vimont,2024-09-09T16:24:29Z,Fix link in OTG documentation  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>,1,1,2
Genymobile/scrcpy,9f3d51106d026e9f234477d7600fcb6162edf4bc,Romain Vimont,2024-09-13T19:58:11Z,"Remove fragile assert()  The sc_uhid_devices instance is initialized only when there is a UHID keyboard.  The device message receiver assumed that it could not receive HID output reports without a sc_uhid_devices instance (i.e. without a UHID keyboard), but in practice, a UHID driver implementation on the device may decide to send UHID output reports for mouse or for gamepads (and we must just ignore them).  So remove the assert().  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",0,5,5
Genymobile/scrcpy,bf2b679e705ed0864e765b1de5f238799a09ece7,Romain Vimont,2024-09-06T21:08:08Z,"Simplify UHID outputs routing  There was a registration mechanism to listen to HID outputs with a specific HID id.  However, the UHID gamepad processor handles several ids, so it cannot work. We could complexify the registration mechanism, but instead, directly dispatch to the expected processor based on the UHID id.  Concretely, instead of passing a sc_uhid_devices instance to construct a sc_keyboard_uhid, so that it can register itself, construct the sc_uhid_devices with all the UHID instances (currently only sc_keyboard_uhid) so that it can dispatch HID outputs directly.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",45,72,117
Genymobile/scrcpy,7f250dd66923018e145f90789d53c4c7a1e30962,Romain Vimont,2024-09-08T17:57:14Z,"Mention physical gamepad names for UHID devices  Initialize UHID devices with a custom name:  - ""scrcpy: $GAMEPAD_NAME"" for gamepads  - ""scrcpy"" for keyboard and mouse (or if no gamepad name is available)  The name may appear in Android apps.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",88,23,111
Genymobile/scrcpy,68e27c7357fbf0c3a3a5d75fb40611b809c13282,Romain Vimont,2024-09-08T18:01:28Z,"Reorder function parameters for consistency  Make the local function write_string() accept the output buffer as a first parameter, like the other similar functions.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",5,7,12
Genymobile/scrcpy,c4febd55ebb75e9033fe7af072cf4af54182ce45,Romain Vimont,2024-09-07T21:06:16Z,"Make -K -M and -G use AOA in OTG mode  For convenience, short options were added to select UHID input modes:  - -K for --keyboard=uhid  - -M for --mouse=uhid  - -G for --gamepad=uhid  In OTG mode, UHID is not available, so the short options should select AOA instead.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",28,13,41
Genymobile/scrcpy,f9d1a333a0807bc354a7ba65a9fd2a9dbd12aa4b,Romain Vimont,2024-09-06T21:08:08Z,"Add UHID gamepad support  Similar to UHID keyboard and mouse, but for gamepads.  Can be enabled with --gamepad=uhid or -G.  It is not enabled by default because not all devices support UHID (there is a permission error on old Android versions).  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",200,8,208
Genymobile/scrcpy,64a25f6e9dfc12d25fa54126afbbef34b27f56f9,Romain Vimont,2024-09-06T21:08:08Z,"Add UHID_DESTROY control message  This message will be sent on gamepad disconnection.  Contrary to keyboard and mouse devices, which are registered once and unregistered when scrcpy exists, each physical gamepad is mapped with its own HID id, and they can be plugged and unplugged dynamically.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",69,3,72
Genymobile/scrcpy,5fe884276b099f6313db886312fe691cc0bf69a5,Romain Vimont,2024-09-06T21:08:08Z,Add gamepad support in OTG mode  Implement gamepad support for OTG.  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>,135,2,137
Genymobile/scrcpy,3e68244dd3f410da5ff5cce3e6bb1c40743a7c51,Romain Vimont,2024-09-06T21:08:08Z,"Add connected gamepads on start  Trigger SDL_CONTROLLERDEVICEADDED for all gamepads already connected when scrcpy starts. We want to handle both the gamepads initially connected and the gamepads connected while scrcpy is running.  This is not racy, because this event may not be trigged automatically until SDL events are ""pumped"" (SDL_PumpEvents/SDL_WaitEvent).  PR #5270 <https://github.com/Genymobile/scrcpy/pull/5270>",20,0,20
